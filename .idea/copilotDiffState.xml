<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/maswadkar/developers/androidify/HistoryActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/maswadkar/developers/androidify/HistoryActivity.kt" />
              <option name="updatedContent" value="package com.maswadkar.developers.androidify&#10;&#10;import android.content.Intent&#10;import android.os.Bundle&#10;import android.view.View&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.appcompat.app.AlertDialog&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.appcompat.widget.Toolbar&#10;import androidx.core.view.ViewCompat&#10;import androidx.core.view.WindowInsetsCompat&#10;import androidx.lifecycle.lifecycleScope&#10;import androidx.recyclerview.widget.LinearLayoutManager&#10;import androidx.recyclerview.widget.RecyclerView&#10;import com.google.firebase.auth.FirebaseAuth&#10;import com.maswadkar.developers.androidify.data.ChatRepository&#10;import com.maswadkar.developers.androidify.data.Conversation&#10;import kotlinx.coroutines.flow.collectLatest&#10;import kotlinx.coroutines.launch&#10;&#10;class HistoryActivity : AppCompatActivity() {&#10;&#10;    private lateinit var historyAdapter: ChatHistoryAdapter&#10;    private val chatRepository = ChatRepository.getInstance()&#10;&#10;    companion object {&#10;        const val EXTRA_CONVERSATION_ID = &quot;conversation_id&quot;&#10;    }&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        enableEdgeToEdge()&#10;        setContentView(R.layout.activity_history)&#10;&#10;        ViewCompat.setOnApplyWindowInsetsListener(findViewById(android.R.id.content)) { v, insets -&gt;&#10;            val systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars())&#10;            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom)&#10;            insets&#10;        }&#10;&#10;        setupToolbar()&#10;        setupRecyclerView()&#10;        observeConversations()&#10;    }&#10;&#10;    private fun setupToolbar() {&#10;        val toolbar = findViewById&lt;Toolbar&gt;(R.id.toolbar)&#10;        setSupportActionBar(toolbar)&#10;        supportActionBar?.setDisplayHomeAsUpEnabled(true)&#10;        toolbar.setNavigationOnClickListener {&#10;            finish()&#10;        }&#10;    }&#10;&#10;    private fun setupRecyclerView() {&#10;        val rvHistory = findViewById&lt;RecyclerView&gt;(R.id.rvHistory)&#10;&#10;        historyAdapter = ChatHistoryAdapter(&#10;            onConversationClick = { conversation -&gt;&#10;                openConversation(conversation)&#10;            },&#10;            onDeleteClick = { conversation -&gt;&#10;                showDeleteConfirmation(conversation)&#10;            }&#10;        )&#10;&#10;        rvHistory.layoutManager = LinearLayoutManager(this)&#10;        rvHistory.adapter = historyAdapter&#10;    }&#10;&#10;    private fun observeConversations() {&#10;        val userId = FirebaseAuth.getInstance().currentUser?.uid ?: return&#10;&#10;        lifecycleScope.launch {&#10;            chatRepository.getConversationsFlow(userId).collectLatest { conversations -&gt;&#10;                historyAdapter.updateConversations(conversations)&#10;                updateEmptyState(conversations.isEmpty())&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun updateEmptyState(isEmpty: Boolean) {&#10;        val rvHistory = findViewById&lt;RecyclerView&gt;(R.id.rvHistory)&#10;        val emptyState = findViewById&lt;View&gt;(R.id.emptyState)&#10;&#10;        if (isEmpty) {&#10;            rvHistory.visibility = View.GONE&#10;            emptyState.visibility = View.VISIBLE&#10;        } else {&#10;            rvHistory.visibility = View.VISIBLE&#10;            emptyState.visibility = View.GONE&#10;        }&#10;    }&#10;&#10;    private fun openConversation(conversation: Conversation) {&#10;        val intent = Intent(this, MainActivity::class.java).apply {&#10;            putExtra(EXTRA_CONVERSATION_ID, conversation.id)&#10;            flags = Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_SINGLE_TOP&#10;        }&#10;        startActivity(intent)&#10;        finish()&#10;    }&#10;&#10;    private fun showDeleteConfirmation(conversation: Conversation) {&#10;        AlertDialog.Builder(this)&#10;            .setTitle(R.string.delete_conversation)&#10;            .setMessage(&quot;Are you sure you want to delete \&quot;${conversation.title}\&quot;?&quot;)&#10;            .setPositiveButton(android.R.string.ok) { _, _ -&gt;&#10;                deleteConversation(conversation.id)&#10;            }&#10;            .setNegativeButton(android.R.string.cancel, null)&#10;            .show()&#10;    }&#10;&#10;    private fun deleteConversation(conversationId: String) {&#10;        lifecycleScope.launch {&#10;            chatRepository.deleteConversation(conversationId)&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/maswadkar/developers/androidify/data/MandiPrice.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/maswadkar/developers/androidify/data/MandiPrice.kt" />
              <option name="originalContent" value="package com.maswadkar.developers.androidify.data&#10;&#10;import com.google.firebase.Timestamp&#10;import com.google.firebase.firestore.DocumentId&#10;import com.google.firebase.firestore.PropertyName&#10;&#10;/**&#10; * Represents a commodity price record from a Mandi (market)&#10; */&#10;data class MandiPrice(&#10;    @DocumentId&#10;    val id: String = &quot;&quot;,&#10;    val state: String = &quot;&quot;,&#10;    val district: String = &quot;&quot;,&#10;    val market: String = &quot;&quot;,&#10;    val commodity: String = &quot;&quot;,&#10;    val variety: String = &quot;&quot;,&#10;    val grade: String = &quot;&quot;,&#10;    @get:PropertyName(&quot;arrival_date&quot;) @set:PropertyName(&quot;arrival_date&quot;)&#10;    var arrivalDate: String = &quot;&quot;,&#10;    @get:PropertyName(&quot;arrival_date_parsed&quot;) @set:PropertyName(&quot;arrival_date_parsed&quot;)&#10;    var arrivalDateParsed: Timestamp? = null,&#10;    @get:PropertyName(&quot;min_price&quot;) @set:PropertyName(&quot;min_price&quot;)&#10;    var minPrice: Double = 0.0,&#10;    @get:PropertyName(&quot;max_price&quot;) @set:PropertyName(&quot;max_price&quot;)&#10;    var maxPrice: Double = 0.0,&#10;    @get:PropertyName(&quot;modal_price&quot;) @set:PropertyName(&quot;modal_price&quot;)&#10;    var modalPrice: Double = 0.0&#10;) {&#10;    // No-arg constructor for Firestore&#10;    constructor() : this(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, null, 0.0, 0.0, 0.0)&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.maswadkar.developers.androidify.data&#10;&#10;import com.google.firebase.Timestamp&#10;import com.google.firebase.firestore.DocumentId&#10;import com.google.firebase.firestore.PropertyName&#10;&#10;/**&#10; * Represents a commodity price record from a Mandi (market)&#10; */&#10;data class MandiPrice(&#10;    @DocumentId&#10;    val id: String = &quot;&quot;,&#10;    val state: String = &quot;&quot;,&#10;    val district: String = &quot;&quot;,&#10;    val market: String = &quot;&quot;,&#10;    val commodity: String = &quot;&quot;,&#10;    val variety: String = &quot;&quot;,&#10;    val grade: String = &quot;&quot;,&#10;    @get:PropertyName(&quot;arrival_date&quot;) @set:PropertyName(&quot;arrival_date&quot;)&#10;    var arrivalDate: String = &quot;&quot;,&#10;    @get:PropertyName(&quot;arrival_date_parsed&quot;) @set:PropertyName(&quot;arrival_date_parsed&quot;)&#10;    var arrivalDateParsed: Timestamp? = null,&#10;    @get:PropertyName(&quot;min_price&quot;) @set:PropertyName(&quot;min_price&quot;)&#10;    var minPrice: Double = 0.0,&#10;    @get:PropertyName(&quot;max_price&quot;) @set:PropertyName(&quot;max_price&quot;)&#10;    var maxPrice: Double = 0.0,&#10;    @get:PropertyName(&quot;modal_price&quot;) @set:PropertyName(&quot;modal_price&quot;)&#10;    var modalPrice: Double = 0.0&#10;)&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/maswadkar/developers/androidify/data/MandiPriceRepository.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/maswadkar/developers/androidify/data/MandiPriceRepository.kt" />
              <option name="originalContent" value="package com.maswadkar.developers.androidify.data&#10;&#10;import android.util.Log&#10;import com.google.firebase.firestore.FirebaseFirestore&#10;import com.google.firebase.firestore.Query&#10;import kotlinx.coroutines.tasks.await&#10;&#10;/**&#10; * Repository for fetching Mandi price data from Firestore&#10; */&#10;class MandiPriceRepository {&#10;&#10;    companion object {&#10;        private const val TAG = &quot;MandiPriceRepository&quot;&#10;        private const val COLLECTION_NAME = &quot;mandi_prices&quot;&#10;        private const val USERS_COLLECTION = &quot;users&quot;&#10;        private const val SETTINGS_COLLECTION = &quot;settings&quot;&#10;        private const val MANDI_PREFERENCES_DOC = &quot;mandi_preferences&quot;&#10;&#10;        @Volatile&#10;        private var instance: MandiPriceRepository? = null&#10;&#10;        fun getInstance(): MandiPriceRepository {&#10;            return instance ?: synchronized(this) {&#10;                instance ?: MandiPriceRepository().also { instance = it }&#10;            }&#10;        }&#10;    }&#10;&#10;    private val firestore: FirebaseFirestore = FirebaseFirestore.getInstance()&#10;    private val districtsCache = mutableMapOf&lt;String, List&lt;String&gt;&gt;()&#10;&#10;    /**&#10;     * Get all distinct states&#10;     */&#10;    suspend fun getStates(): List&lt;String&gt; {&#10;        return try {&#10;            val snapshot = firestore.collection(COLLECTION_NAME)&#10;                .get()&#10;                .await()&#10;&#10;            snapshot.documents&#10;                .mapNotNull { it.getString(&quot;state&quot;) }&#10;                .distinct()&#10;                .sorted()&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching states: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get districts for a given state&#10;     */&#10;    suspend fun getDistricts(state: String): List&lt;String&gt; {&#10;        if (districtsCache.containsKey(state)) {&#10;            return districtsCache[state] ?: emptyList()&#10;        }&#10;&#10;        return try {&#10;            val snapshot = firestore.collection(COLLECTION_NAME)&#10;                .whereEqualTo(&quot;state&quot;, state)&#10;                .get()&#10;                .await()&#10;&#10;            val districts = snapshot.documents&#10;                .mapNotNull { it.getString(&quot;district&quot;) }&#10;                .distinct()&#10;                .sorted()&#10;&#10;            if (districts.isNotEmpty()) {&#10;                districtsCache[state] = districts&#10;            }&#10;            districts&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching districts: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get commodities for a given state and district&#10;     */&#10;    suspend fun getCommodities(state: String, district: String? = null): List&lt;String&gt; {&#10;        return try {&#10;            var query: Query = firestore.collection(COLLECTION_NAME)&#10;                .whereEqualTo(&quot;state&quot;, state)&#10;&#10;            if (district != null) {&#10;                query = query.whereEqualTo(&quot;district&quot;, district)&#10;            }&#10;&#10;            val snapshot = query.get().await()&#10;&#10;            snapshot.documents&#10;                .mapNotNull { it.getString(&quot;commodity&quot;) }&#10;                .distinct()&#10;                .sorted()&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching commodities: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get markets for a given state and district&#10;     */&#10;    suspend fun getMarkets(state: String, district: String): List&lt;String&gt; {&#10;        return try {&#10;            val snapshot = firestore.collection(COLLECTION_NAME)&#10;                .whereEqualTo(&quot;state&quot;, state)&#10;                .whereEqualTo(&quot;district&quot;, district)&#10;                .get()&#10;                .await()&#10;&#10;            snapshot.documents&#10;                .mapNotNull { it.getString(&quot;market&quot;) }&#10;                .distinct()&#10;                .sorted()&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching markets: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get filtered mandi prices - sorted by date descending (newest first)&#10;     * Returns last 7 days of data for better context&#10;     */&#10;    suspend fun getMandiPrices(&#10;        state: String? = null,&#10;        district: String? = null,&#10;        market: String? = null,&#10;        commodity: String? = null,&#10;        limit: Int = 100&#10;    ): List&lt;MandiPrice&gt; {&#10;        return try {&#10;            var query: Query = firestore.collection(COLLECTION_NAME)&#10;&#10;            state?.let { query = query.whereEqualTo(&quot;state&quot;, it) }&#10;            district?.let { query = query.whereEqualTo(&quot;district&quot;, it) }&#10;            market?.let { query = query.whereEqualTo(&quot;market&quot;, it) }&#10;            commodity?.let { query = query.whereEqualTo(&quot;commodity&quot;, it) }&#10;&#10;            // Order by arrival_date_parsed descending to get newest first&#10;            query = query.orderBy(&quot;arrival_date_parsed&quot;, Query.Direction.DESCENDING)&#10;&#10;            val snapshot = query.limit(limit.toLong()).get().await()&#10;&#10;            snapshot.documents.mapNotNull { doc -&gt;&#10;                try {&#10;                    doc.toObject(MandiPrice::class.java)&#10;                } catch (e: Exception) {&#10;                    Log.e(TAG, &quot;Error parsing document ${doc.id}: ${e.message}&quot;)&#10;                    null&#10;                }&#10;            }&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching mandi prices: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get the latest price for each commodity in a given location&#10;     * This is useful when today's data is not available - shows the most recent price&#10;     */&#10;    suspend fun getLatestPricePerCommodity(&#10;        state: String,&#10;        district: String,&#10;        market: String? = null&#10;    ): List&lt;MandiPrice&gt; {&#10;        return try {&#10;            var query: Query = firestore.collection(COLLECTION_NAME)&#10;                .whereEqualTo(&quot;state&quot;, state)&#10;                .whereEqualTo(&quot;district&quot;, district)&#10;&#10;            market?.let { query = query.whereEqualTo(&quot;market&quot;, it) }&#10;&#10;            // Order by date descending&#10;            query = query.orderBy(&quot;arrival_date_parsed&quot;, Query.Direction.DESCENDING)&#10;&#10;            val snapshot = query.get().await()&#10;&#10;            // Group by commodity and take latest for each&#10;            val prices = snapshot.documents.mapNotNull { doc -&gt;&#10;                try {&#10;                    doc.toObject(MandiPrice::class.java)&#10;                } catch (e: Exception) {&#10;                    Log.e(TAG, &quot;Error parsing document ${doc.id}: ${e.message}&quot;)&#10;                    null&#10;                }&#10;            }&#10;&#10;            // Group by commodity+market+variety and take the first (latest) of each&#10;            prices.groupBy { &quot;${it.commodity}_${it.market}_${it.variety}&quot; }&#10;                .values&#10;                .mapNotNull { it.firstOrNull() }&#10;                .sortedBy { it.commodity }&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching latest prices: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get the data date (most recent arrival date in the dataset)&#10;     */&#10;    suspend fun getLatestDataDate(state: String, district: String): String? {&#10;        return try {&#10;            val snapshot = firestore.collection(COLLECTION_NAME)&#10;                .whereEqualTo(&quot;state&quot;, state)&#10;                .whereEqualTo(&quot;district&quot;, district)&#10;                .orderBy(&quot;arrival_date_parsed&quot;, Query.Direction.DESCENDING)&#10;                .limit(1)&#10;                .get()&#10;                .await()&#10;&#10;            snapshot.documents.firstOrNull()?.getString(&quot;arrival_date&quot;)&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching latest data date: ${e.message}&quot;)&#10;            null&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Search commodities by name&#10;     */&#10;    suspend fun searchCommodities(query: String): List&lt;String&gt; {&#10;        return try {&#10;            val snapshot = firestore.collection(COLLECTION_NAME)&#10;                .get()&#10;                .await()&#10;&#10;            snapshot.documents&#10;                .mapNotNull { it.getString(&quot;commodity&quot;) }&#10;                .distinct()&#10;                .filter { it.contains(query, ignoreCase = true) }&#10;                .sorted()&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error searching commodities: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get user's saved Mandi preferences&#10;     */&#10;    suspend fun getUserPreferences(userId: String): MandiPreferences? {&#10;        return try {&#10;            val doc = firestore.collection(USERS_COLLECTION)&#10;                .document(userId)&#10;                .collection(SETTINGS_COLLECTION)&#10;                .document(MANDI_PREFERENCES_DOC)&#10;                .get()&#10;                .await()&#10;&#10;            if (doc.exists()) {&#10;                doc.toObject(MandiPreferences::class.java)&#10;            } else {&#10;                null&#10;            }&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching user preferences: ${e.message}&quot;)&#10;            null&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Save user's Mandi preferences&#10;     */&#10;    suspend fun saveUserPreferences(userId: String, preferences: MandiPreferences): Boolean {&#10;        return try {&#10;            firestore.collection(USERS_COLLECTION)&#10;                .document(userId)&#10;                .collection(SETTINGS_COLLECTION)&#10;                .document(MANDI_PREFERENCES_DOC)&#10;                .set(preferences)&#10;                .await()&#10;            Log.d(TAG, &quot;Saved user preferences: $preferences&quot;)&#10;            true&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error saving user preferences: ${e.message}&quot;)&#10;            false&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Update last searched commodity in preferences&#10;     */&#10;    suspend fun updateLastCommodity(userId: String, commodity: String): Boolean {&#10;        return try {&#10;            firestore.collection(USERS_COLLECTION)&#10;                .document(userId)&#10;                .collection(SETTINGS_COLLECTION)&#10;                .document(MANDI_PREFERENCES_DOC)&#10;                .update(&quot;lastCommodity&quot;, commodity)&#10;                .await()&#10;            true&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error updating last commodity: ${e.message}&quot;)&#10;            false&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.maswadkar.developers.androidify.data&#10;&#10;import android.util.Log&#10;import com.google.firebase.firestore.FirebaseFirestore&#10;import com.google.firebase.firestore.Query&#10;import kotlinx.coroutines.tasks.await&#10;&#10;/**&#10; * Repository for fetching Mandi price data from Firestore&#10; */&#10;class MandiPriceRepository {&#10;&#10;    companion object {&#10;        private const val TAG = &quot;MandiPriceRepository&quot;&#10;        private const val COLLECTION_NAME = &quot;mandi_prices&quot;&#10;        private const val USERS_COLLECTION = &quot;users&quot;&#10;        private const val SETTINGS_COLLECTION = &quot;settings&quot;&#10;        private const val MANDI_PREFERENCES_DOC = &quot;mandi_preferences&quot;&#10;&#10;        @Volatile&#10;        private var instance: MandiPriceRepository? = null&#10;&#10;        fun getInstance(): MandiPriceRepository {&#10;            return instance ?: synchronized(this) {&#10;                instance ?: MandiPriceRepository().also { instance = it }&#10;            }&#10;        }&#10;    }&#10;&#10;    private val firestore: FirebaseFirestore = FirebaseFirestore.getInstance()&#10;    private val districtsCache = mutableMapOf&lt;String, List&lt;String&gt;&gt;()&#10;&#10;    /**&#10;     * Get all distinct states&#10;     */&#10;    suspend fun getStates(): List&lt;String&gt; {&#10;        return try {&#10;            val snapshot = firestore.collection(COLLECTION_NAME)&#10;                .get()&#10;                .await()&#10;&#10;            snapshot.documents&#10;                .mapNotNull { it.getString(&quot;state&quot;) }&#10;                .distinct()&#10;                .sorted()&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching states: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get districts for a given state&#10;     */&#10;    suspend fun getDistricts(state: String): List&lt;String&gt; {&#10;        if (districtsCache.containsKey(state)) {&#10;            return districtsCache[state] ?: emptyList()&#10;        }&#10;&#10;        return try {&#10;            val snapshot = firestore.collection(COLLECTION_NAME)&#10;                .whereEqualTo(&quot;state&quot;, state)&#10;                .get()&#10;                .await()&#10;&#10;            val districts = snapshot.documents&#10;                .mapNotNull { it.getString(&quot;district&quot;) }&#10;                .distinct()&#10;                .sorted()&#10;&#10;            if (districts.isNotEmpty()) {&#10;                districtsCache[state] = districts&#10;            }&#10;            districts&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching districts: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get commodities for a given state and district&#10;     */&#10;    suspend fun getCommodities(state: String, district: String? = null): List&lt;String&gt; {&#10;        return try {&#10;            var query: Query = firestore.collection(COLLECTION_NAME)&#10;                .whereEqualTo(&quot;state&quot;, state)&#10;&#10;            if (district != null) {&#10;                query = query.whereEqualTo(&quot;district&quot;, district)&#10;            }&#10;&#10;            val snapshot = query.get().await()&#10;&#10;            snapshot.documents&#10;                .mapNotNull { it.getString(&quot;commodity&quot;) }&#10;                .distinct()&#10;                .sorted()&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching commodities: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get markets for a given state and district&#10;     */&#10;    suspend fun getMarkets(state: String, district: String): List&lt;String&gt; {&#10;        return try {&#10;            val snapshot = firestore.collection(COLLECTION_NAME)&#10;                .whereEqualTo(&quot;state&quot;, state)&#10;                .whereEqualTo(&quot;district&quot;, district)&#10;                .get()&#10;                .await()&#10;&#10;            snapshot.documents&#10;                .mapNotNull { it.getString(&quot;market&quot;) }&#10;                .distinct()&#10;                .sorted()&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching markets: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get filtered mandi prices - sorted by date descending (newest first)&#10;     * Returns last 7 days of data for better context&#10;     */&#10;    suspend fun getMandiPrices(&#10;        state: String? = null,&#10;        district: String? = null,&#10;        market: String? = null,&#10;        commodity: String? = null,&#10;        limit: Int = 100&#10;    ): List&lt;MandiPrice&gt; {&#10;        return try {&#10;            var query: Query = firestore.collection(COLLECTION_NAME)&#10;&#10;            state?.let { query = query.whereEqualTo(&quot;state&quot;, it) }&#10;            district?.let { query = query.whereEqualTo(&quot;district&quot;, it) }&#10;            market?.let { query = query.whereEqualTo(&quot;market&quot;, it) }&#10;            commodity?.let { query = query.whereEqualTo(&quot;commodity&quot;, it) }&#10;&#10;            // Order by arrival_date_parsed descending to get newest first&#10;            query = query.orderBy(&quot;arrival_date_parsed&quot;, Query.Direction.DESCENDING)&#10;&#10;            val snapshot = query.limit(limit.toLong()).get().await()&#10;&#10;            snapshot.documents.mapNotNull { doc -&gt;&#10;                try {&#10;                    doc.toObject(MandiPrice::class.java)&#10;                } catch (e: Exception) {&#10;                    Log.e(TAG, &quot;Error parsing document ${doc.id}: ${e.message}&quot;)&#10;                    null&#10;                }&#10;            }&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching mandi prices: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get the latest price for each commodity in a given location&#10;     * This is useful when today's data is not available - shows the most recent price&#10;     */&#10;    @Suppress(&quot;unused&quot;)&#10;    suspend fun getLatestPricePerCommodity(&#10;        state: String,&#10;        district: String,&#10;        market: String? = null&#10;    ): List&lt;MandiPrice&gt; {&#10;        return try {&#10;            var query: Query = firestore.collection(COLLECTION_NAME)&#10;                .whereEqualTo(&quot;state&quot;, state)&#10;                .whereEqualTo(&quot;district&quot;, district)&#10;&#10;            market?.let { query = query.whereEqualTo(&quot;market&quot;, it) }&#10;&#10;            // Order by date descending&#10;            query = query.orderBy(&quot;arrival_date_parsed&quot;, Query.Direction.DESCENDING)&#10;&#10;            val snapshot = query.get().await()&#10;&#10;            // Group by commodity and take latest for each&#10;            val prices = snapshot.documents.mapNotNull { doc -&gt;&#10;                try {&#10;                    doc.toObject(MandiPrice::class.java)&#10;                } catch (e: Exception) {&#10;                    Log.e(TAG, &quot;Error parsing document ${doc.id}: ${e.message}&quot;)&#10;                    null&#10;                }&#10;            }&#10;&#10;            // Group by commodity+market+variety and take the first (latest) of each&#10;            prices.groupBy { &quot;${it.commodity}_${it.market}_${it.variety}&quot; }&#10;                .values&#10;                .mapNotNull { it.firstOrNull() }&#10;                .sortedBy { it.commodity }&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching latest prices: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get the data date (most recent arrival date in the dataset)&#10;     */&#10;    suspend fun getLatestDataDate(state: String, district: String): String? {&#10;        return try {&#10;            val snapshot = firestore.collection(COLLECTION_NAME)&#10;                .whereEqualTo(&quot;state&quot;, state)&#10;                .whereEqualTo(&quot;district&quot;, district)&#10;                .orderBy(&quot;arrival_date_parsed&quot;, Query.Direction.DESCENDING)&#10;                .limit(1)&#10;                .get()&#10;                .await()&#10;&#10;            snapshot.documents.firstOrNull()?.getString(&quot;arrival_date&quot;)&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching latest data date: ${e.message}&quot;)&#10;            null&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Search commodities by name&#10;     */&#10;    @Suppress(&quot;unused&quot;)&#10;    suspend fun searchCommodities(query: String): List&lt;String&gt; {&#10;        return try {&#10;            val snapshot = firestore.collection(COLLECTION_NAME)&#10;                .get()&#10;                .await()&#10;&#10;            snapshot.documents&#10;                .mapNotNull { it.getString(&quot;commodity&quot;) }&#10;                .distinct()&#10;                .filter { it.contains(query, ignoreCase = true) }&#10;                .sorted()&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error searching commodities: ${e.message}&quot;)&#10;            emptyList()&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Get user's saved Mandi preferences&#10;     */&#10;    suspend fun getUserPreferences(userId: String): MandiPreferences? {&#10;        return try {&#10;            val doc = firestore.collection(USERS_COLLECTION)&#10;                .document(userId)&#10;                .collection(SETTINGS_COLLECTION)&#10;                .document(MANDI_PREFERENCES_DOC)&#10;                .get()&#10;                .await()&#10;&#10;            if (doc.exists()) {&#10;                doc.toObject(MandiPreferences::class.java)&#10;            } else {&#10;                null&#10;            }&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error fetching user preferences: ${e.message}&quot;)&#10;            null&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Save user's Mandi preferences&#10;     */&#10;    suspend fun saveUserPreferences(userId: String, preferences: MandiPreferences): Boolean {&#10;        return try {&#10;            firestore.collection(USERS_COLLECTION)&#10;                .document(userId)&#10;                .collection(SETTINGS_COLLECTION)&#10;                .document(MANDI_PREFERENCES_DOC)&#10;                .set(preferences)&#10;                .await()&#10;            Log.d(TAG, &quot;Saved user preferences: $preferences&quot;)&#10;            true&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error saving user preferences: ${e.message}&quot;)&#10;            false&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Update last searched commodity in preferences&#10;     */&#10;    suspend fun updateLastCommodity(userId: String, commodity: String): Boolean {&#10;        return try {&#10;            firestore.collection(USERS_COLLECTION)&#10;                .document(userId)&#10;                .collection(SETTINGS_COLLECTION)&#10;                .document(MANDI_PREFERENCES_DOC)&#10;                .update(&quot;lastCommodity&quot;, commodity)&#10;                .await()&#10;            true&#10;        } catch (e: Exception) {&#10;            Log.e(TAG, &quot;Error updating last commodity: ${e.message}&quot;)&#10;            false&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/maswadkar/developers/androidify/ui/screens/MandiPricesScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/maswadkar/developers/androidify/ui/screens/MandiPricesScreen.kt" />
              <option name="originalContent" value="package com.maswadkar.developers.androidify.ui.screens&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material.icons.filled.Clear&#10;import androidx.compose.material.icons.filled.DateRange&#10;import androidx.compose.material.icons.filled.Edit&#10;import androidx.compose.material.icons.filled.LocationOn&#10;import androidx.compose.material.icons.filled.Search&#10;import androidx.compose.material3.*&#10;import androidx.compose.material3.MenuAnchorType&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Brush&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.res.stringResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.unit.dp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import com.maswadkar.developers.androidify.R&#10;import com.maswadkar.developers.androidify.data.MandiPrice&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun MandiPricesScreen(&#10;    onBackClick: () -&gt; Unit,&#10;    modifier: Modifier = Modifier,&#10;    viewModel: MandiPricesViewModel = viewModel()&#10;) {&#10;    val uiState by viewModel.uiState.collectAsState()&#10;&#10;    Scaffold(&#10;        modifier = modifier.fillMaxSize(),&#10;        topBar = {&#10;            TopAppBar(&#10;                title = { Text(stringResource(R.string.menu_mandi_prices)) },&#10;                navigationIcon = {&#10;                    IconButton(onClick = onBackClick) {&#10;                        Icon(&#10;                            imageVector = Icons.AutoMirrored.Filled.ArrowBack,&#10;                            contentDescription = stringResource(R.string.back)&#10;                        )&#10;                    }&#10;                },&#10;                actions = {&#10;                    if (uiState.prices.isNotEmpty()) {&#10;                        IconButton(onClick = { viewModel.clearFilters() }) {&#10;                            Icon(&#10;                                imageVector = Icons.Default.Clear,&#10;                                contentDescription = stringResource(R.string.clear_filters)&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;            )&#10;        }&#10;    ) { paddingValues -&gt;&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(paddingValues)&#10;        ) {&#10;            // Show loading during initialization&#10;            if (uiState.isInitializing) {&#10;                Box(&#10;                    modifier = Modifier.fillMaxSize(),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    CircularProgressIndicator()&#10;                }&#10;                return@Scaffold&#10;            }&#10;&#10;            // Filters Section - Compact or Full mode&#10;            if (uiState.isCompactMode) {&#10;                CompactFiltersSection(&#10;                    uiState = uiState,&#10;                    onCommoditySelected = viewModel::onCommoditySelected,&#10;                    onSearchClick = viewModel::loadPrices,&#10;                    onChangeLocation = viewModel::switchToFullMode&#10;                )&#10;            } else {&#10;                FullFiltersSection(&#10;                    uiState = uiState,&#10;                    onStateSelected = viewModel::onStateSelected,&#10;                    onDistrictSelected = viewModel::onDistrictSelected,&#10;                    onCommoditySelected = viewModel::onCommoditySelected,&#10;                    onSearchClick = viewModel::loadPrices,&#10;                    onCancelChange = if (uiState.hasPreferences) viewModel::switchToCompactMode else null&#10;                )&#10;            }&#10;&#10;            HorizontalDivider()&#10;&#10;            // Results Section&#10;            Box(modifier = Modifier.weight(1f)) {&#10;                when {&#10;                    uiState.isLoading -&gt; {&#10;                        CircularProgressIndicator(&#10;                            modifier = Modifier.align(Alignment.Center)&#10;                        )&#10;                    }&#10;                    uiState.error != null -&gt; {&#10;                        ErrorMessage(&#10;                            message = uiState.error!!,&#10;                            onDismiss = viewModel::clearError,&#10;                            modifier = Modifier.align(Alignment.Center)&#10;                        )&#10;                    }&#10;                    uiState.prices.isEmpty() &amp;&amp; uiState.selectedState != null &amp;&amp; uiState.selectedDistrict != null -&gt; {&#10;                        EmptyState(&#10;                            modifier = Modifier.align(Alignment.Center)&#10;                        )&#10;                    }&#10;                    !uiState.isCompactMode &amp;&amp; uiState.selectedState == null -&gt; {&#10;                        SelectStatePrompt(&#10;                            modifier = Modifier.align(Alignment.Center)&#10;                        )&#10;                    }&#10;                    uiState.isCompactMode &amp;&amp; uiState.prices.isEmpty() -&gt; {&#10;                        SearchPrompt(&#10;                            modifier = Modifier.align(Alignment.Center)&#10;                        )&#10;                    }&#10;                    else -&gt; {&#10;                        PricesList(&#10;                            prices = uiState.prices,&#10;                            latestDataDate = uiState.latestDataDate&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun CompactFiltersSection(&#10;    uiState: MandiPricesUiState,&#10;    onCommoditySelected: (String?) -&gt; Unit,&#10;    onSearchClick: () -&gt; Unit,&#10;    onChangeLocation: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .padding(16.dp),&#10;        verticalArrangement = Arrangement.spacedBy(12.dp)&#10;    ) {&#10;        // Location chip with change button&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            AssistChip(&#10;                onClick = { },&#10;                label = {&#10;                    Text(&#10;                        text = &quot;${uiState.savedPreferences?.district}, ${uiState.savedPreferences?.state}&quot;,&#10;                        style = MaterialTheme.typography.bodyMedium&#10;                    )&#10;                },&#10;                leadingIcon = {&#10;                    Icon(&#10;                        imageVector = Icons.Default.LocationOn,&#10;                        contentDescription = null,&#10;                        modifier = Modifier.size(18.dp)&#10;                    )&#10;                }&#10;            )&#10;&#10;            TextButton(onClick = onChangeLocation) {&#10;                Icon(&#10;                    imageVector = Icons.Default.Edit,&#10;                    contentDescription = null,&#10;                    modifier = Modifier.size(16.dp)&#10;                )&#10;                Spacer(modifier = Modifier.width(4.dp))&#10;                Text(stringResource(R.string.change_location))&#10;            }&#10;        }&#10;&#10;        // Commodity dropdown + Search button&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(8.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            FilterDropdown(&#10;                label = stringResource(R.string.filter_commodity),&#10;                options = uiState.commodities,&#10;                selectedOption = uiState.selectedCommodity,&#10;                onOptionSelected = onCommoditySelected,&#10;                enabled = uiState.commodities.isNotEmpty(),&#10;                modifier = Modifier.weight(1f)&#10;            )&#10;&#10;            FilledTonalButton(&#10;                onClick = onSearchClick,&#10;                modifier = Modifier.padding(top = 8.dp)&#10;            ) {&#10;                Icon(&#10;                    imageVector = Icons.Default.Search,&#10;                    contentDescription = null,&#10;                    modifier = Modifier.size(18.dp)&#10;                )&#10;                Spacer(modifier = Modifier.width(4.dp))&#10;                Text(stringResource(R.string.search))&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun FullFiltersSection(&#10;    uiState: MandiPricesUiState,&#10;    onStateSelected: (String?) -&gt; Unit,&#10;    onDistrictSelected: (String?) -&gt; Unit,&#10;    onCommoditySelected: (String?) -&gt; Unit,&#10;    onSearchClick: () -&gt; Unit,&#10;    onCancelChange: (() -&gt; Unit)?,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .padding(16.dp),&#10;        verticalArrangement = Arrangement.spacedBy(12.dp)&#10;    ) {&#10;        // Show cancel button if user has preferences and switched to full mode&#10;        if (onCancelChange != null) {&#10;            Row(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                horizontalArrangement = Arrangement.SpaceBetween,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Text(&#10;                    text = stringResource(R.string.change_location_title),&#10;                    style = MaterialTheme.typography.titleSmall,&#10;                    color = MaterialTheme.colorScheme.primary&#10;                )&#10;                TextButton(onClick = onCancelChange) {&#10;                    Text(stringResource(R.string.cancel))&#10;                }&#10;            }&#10;        }&#10;&#10;        // State Dropdown&#10;        FilterDropdown(&#10;            label = stringResource(R.string.filter_state),&#10;            options = uiState.states,&#10;            selectedOption = uiState.selectedState,&#10;            onOptionSelected = onStateSelected,&#10;            enabled = uiState.states.isNotEmpty()&#10;        )&#10;&#10;        // District Dropdown&#10;        FilterDropdown(&#10;            label = stringResource(R.string.filter_district),&#10;            options = uiState.districts,&#10;            selectedOption = uiState.selectedDistrict,&#10;            onOptionSelected = onDistrictSelected,&#10;            enabled = uiState.selectedState != null &amp;&amp; uiState.districts.isNotEmpty()&#10;        )&#10;&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(8.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            // Commodity Dropdown&#10;            FilterDropdown(&#10;                label = stringResource(R.string.filter_commodity),&#10;                options = uiState.commodities,&#10;                selectedOption = uiState.selectedCommodity,&#10;                onOptionSelected = onCommoditySelected,&#10;                enabled = uiState.selectedDistrict != null &amp;&amp; uiState.commodities.isNotEmpty(),&#10;                modifier = Modifier.weight(1f)&#10;            )&#10;&#10;            // Search Button&#10;            FilledTonalButton(&#10;                onClick = onSearchClick,&#10;                enabled = uiState.selectedState != null &amp;&amp; uiState.selectedDistrict != null,&#10;                modifier = Modifier.padding(top = 8.dp)&#10;            ) {&#10;                Icon(&#10;                    imageVector = Icons.Default.Search,&#10;                    contentDescription = null,&#10;                    modifier = Modifier.size(18.dp)&#10;                )&#10;                Spacer(modifier = Modifier.width(4.dp))&#10;                Text(stringResource(R.string.search))&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun FilterDropdown(&#10;    label: String,&#10;    options: List&lt;String&gt;,&#10;    selectedOption: String?,&#10;    onOptionSelected: (String?) -&gt; Unit,&#10;    enabled: Boolean,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    var expanded by remember { mutableStateOf(false) }&#10;&#10;    ExposedDropdownMenuBox(&#10;        expanded = expanded,&#10;        onExpandedChange = { if (enabled) expanded = it },&#10;        modifier = modifier&#10;    ) {&#10;        OutlinedTextField(&#10;            value = selectedOption ?: &quot;&quot;,&#10;            onValueChange = {},&#10;            readOnly = true,&#10;            label = { Text(label) },&#10;            trailingIcon = { ExposedDropdownMenuDefaults.TrailingIcon(expanded = expanded) },&#10;            colors = ExposedDropdownMenuDefaults.outlinedTextFieldColors(),&#10;            enabled = enabled,&#10;            modifier = Modifier&#10;                .menuAnchor(MenuAnchorType.PrimaryNotEditable, enabled)&#10;                .fillMaxWidth()&#10;        )&#10;&#10;        ExposedDropdownMenu(&#10;            expanded = expanded,&#10;            onDismissRequest = { expanded = false }&#10;        ) {&#10;            options.forEach { option -&gt;&#10;                DropdownMenuItem(&#10;                    text = { Text(option) },&#10;                    onClick = {&#10;                        onOptionSelected(option)&#10;                        expanded = false&#10;                    }&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PricesList(&#10;    prices: List&lt;MandiPrice&gt;,&#10;    latestDataDate: String? = null,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    LazyColumn(&#10;        modifier = modifier.fillMaxSize(),&#10;        contentPadding = PaddingValues(16.dp),&#10;        verticalArrangement = Arrangement.spacedBy(12.dp)&#10;    ) {&#10;        // Show &quot;Data as of&quot; header if we have a date&#10;        if (latestDataDate != null) {&#10;            item {&#10;                DataAsOfHeader(date = latestDataDate)&#10;            }&#10;        }&#10;&#10;        items(prices, key = { it.id.ifEmpty { &quot;${it.market}_${it.commodity}_${it.arrivalDate}&quot; } }) { price -&gt;&#10;            PriceCard(price = price)&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun DataAsOfHeader(&#10;    date: String,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Surface(&#10;        modifier = modifier.fillMaxWidth(),&#10;        color = MaterialTheme.colorScheme.secondaryContainer,&#10;        shape = MaterialTheme.shapes.small&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.padding(horizontal = 12.dp, vertical = 8.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Icon(&#10;                imageVector = Icons.Default.DateRange,&#10;                contentDescription = null,&#10;                modifier = Modifier.size(16.dp),&#10;                tint = MaterialTheme.colorScheme.onSecondaryContainer&#10;            )&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Text(&#10;                text = stringResource(R.string.data_as_of, date),&#10;                style = MaterialTheme.typography.labelMedium,&#10;                color = MaterialTheme.colorScheme.onSecondaryContainer&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PriceCard(&#10;    price: MandiPrice,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Card(&#10;        modifier = modifier.fillMaxWidth(),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 2.dp),&#10;        colors = CardDefaults.cardColors(&#10;            containerColor = MaterialTheme.colorScheme.surfaceContainerLow&#10;        ),&#10;        shape = MaterialTheme.shapes.medium&#10;    ) {&#10;        Column(&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;            // Header with commodity name - uses primary container for theme harmony&#10;            Surface(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                color = MaterialTheme.colorScheme.primaryContainer,&#10;                shape = RoundedCornerShape(topStart = 12.dp, topEnd = 12.dp)&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier.padding(horizontal = 16.dp, vertical = 12.dp)&#10;                ) {&#10;                    Text(&#10;                        text = price.commodity,&#10;                        style = MaterialTheme.typography.titleMedium,&#10;                        fontWeight = FontWeight.Bold,&#10;                        color = MaterialTheme.colorScheme.onPrimaryContainer&#10;                    )&#10;                    if (price.variety.isNotEmpty() || price.grade.isNotEmpty()) {&#10;                        Text(&#10;                            text = listOfNotNull(&#10;                                price.variety.takeIf { it.isNotEmpty() },&#10;                                price.grade.takeIf { it.isNotEmpty() }&#10;                            ).joinToString(&quot;  &quot;),&#10;                            style = MaterialTheme.typography.bodySmall,&#10;                            color = MaterialTheme.colorScheme.onPrimaryContainer.copy(alpha = 0.8f)&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;&#10;            // Content section&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(16.dp)&#10;            ) {&#10;                // Market and Location with icon&#10;                Row(&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Icon(&#10;                        imageVector = Icons.Default.LocationOn,&#10;                        contentDescription = null,&#10;                        modifier = Modifier.size(16.dp),&#10;                        tint = MaterialTheme.colorScheme.tertiary&#10;                    )&#10;                    Spacer(modifier = Modifier.width(4.dp))&#10;                    Text(&#10;                        text = price.market,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        fontWeight = FontWeight.Medium,&#10;                        color = MaterialTheme.colorScheme.onSurface&#10;                    )&#10;                }&#10;                Text(&#10;                    text = &quot;${price.district}, ${price.state}&quot;,&#10;                    style = MaterialTheme.typography.bodySmall,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant,&#10;                    modifier = Modifier.padding(start = 20.dp)&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                // Prices Row with theme-aware chips&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.SpaceEvenly&#10;                ) {&#10;                    PriceChip(&#10;                        label = stringResource(R.string.price_min),&#10;                        value = &quot;${price.minPrice.toInt()}&quot;,&#10;                        containerColor = MaterialTheme.colorScheme.secondaryContainer,&#10;                        contentColor = MaterialTheme.colorScheme.onSecondaryContainer&#10;                    )&#10;                    PriceChip(&#10;                        label = stringResource(R.string.price_modal),&#10;                        value = &quot;${price.modalPrice.toInt()}&quot;,&#10;                        containerColor = MaterialTheme.colorScheme.tertiaryContainer,&#10;                        contentColor = MaterialTheme.colorScheme.onTertiaryContainer,&#10;                        isHighlighted = true&#10;                    )&#10;                    PriceChip(&#10;                        label = stringResource(R.string.price_max),&#10;                        value = &quot;${price.maxPrice.toInt()}&quot;,&#10;                        containerColor = MaterialTheme.colorScheme.secondaryContainer,&#10;                        contentColor = MaterialTheme.colorScheme.onSecondaryContainer&#10;                    )&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(12.dp))&#10;&#10;                // Arrival Date with calendar icon&#10;                Row(&#10;                    modifier = Modifier.align(Alignment.End),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Icon(&#10;                        imageVector = Icons.Default.DateRange,&#10;                        contentDescription = null,&#10;                        modifier = Modifier.size(14.dp),&#10;                        tint = MaterialTheme.colorScheme.onSurfaceVariant&#10;                    )&#10;                    Spacer(modifier = Modifier.width(4.dp))&#10;                    Text(&#10;                        text = price.arrivalDate,&#10;                        style = MaterialTheme.typography.labelSmall,&#10;                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PriceChip(&#10;    label: String,&#10;    value: String,&#10;    containerColor: Color,&#10;    contentColor: Color,&#10;    modifier: Modifier = Modifier,&#10;    isHighlighted: Boolean = false&#10;) {&#10;    Surface(&#10;        modifier = modifier,&#10;        shape = RoundedCornerShape(12.dp),&#10;        color = containerColor&#10;    ) {&#10;        Column(&#10;            modifier = Modifier.padding(horizontal = 12.dp, vertical = 8.dp),&#10;            horizontalAlignment = Alignment.CenterHorizontally&#10;        ) {&#10;            Text(&#10;                text = label,&#10;                style = MaterialTheme.typography.labelSmall,&#10;                color = contentColor.copy(alpha = 0.7f)&#10;            )&#10;            Text(&#10;                text = value,&#10;                style = if (isHighlighted) MaterialTheme.typography.titleMedium else MaterialTheme.typography.bodyLarge,&#10;                fontWeight = if (isHighlighted) FontWeight.Bold else FontWeight.SemiBold,&#10;                color = contentColor&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun SelectStatePrompt(modifier: Modifier = Modifier) {&#10;    Column(&#10;        modifier = modifier.padding(32.dp),&#10;        horizontalAlignment = Alignment.CenterHorizontally&#10;    ) {&#10;        Text(&#10;            text = stringResource(R.string.select_state_prompt),&#10;            style = MaterialTheme.typography.bodyLarge,&#10;            textAlign = TextAlign.Center,&#10;            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun SearchPrompt(modifier: Modifier = Modifier) {&#10;    Column(&#10;        modifier = modifier.padding(32.dp),&#10;        horizontalAlignment = Alignment.CenterHorizontally&#10;    ) {&#10;        Text(&#10;            text = stringResource(R.string.search_prompt),&#10;            style = MaterialTheme.typography.bodyLarge,&#10;            textAlign = TextAlign.Center,&#10;            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun EmptyState(modifier: Modifier = Modifier) {&#10;    Column(&#10;        modifier = modifier.padding(32.dp),&#10;        horizontalAlignment = Alignment.CenterHorizontally&#10;    ) {&#10;        Text(&#10;            text = stringResource(R.string.no_prices_found),&#10;            style = MaterialTheme.typography.bodyLarge,&#10;            textAlign = TextAlign.Center,&#10;            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ErrorMessage(&#10;    message: String,&#10;    onDismiss: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Column(&#10;        modifier = modifier.padding(32.dp),&#10;        horizontalAlignment = Alignment.CenterHorizontally&#10;    ) {&#10;        Text(&#10;            text = message,&#10;            style = MaterialTheme.typography.bodyLarge,&#10;            textAlign = TextAlign.Center,&#10;            color = MaterialTheme.colorScheme.error&#10;        )&#10;        Spacer(modifier = Modifier.height(16.dp))&#10;        TextButton(onClick = onDismiss) {&#10;            Text(stringResource(R.string.dismiss))&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.maswadkar.developers.androidify.ui.screens&#10;&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material.icons.filled.Clear&#10;import androidx.compose.material.icons.filled.DateRange&#10;import androidx.compose.material.icons.filled.Edit&#10;import androidx.compose.material.icons.filled.LocationOn&#10;import androidx.compose.material.icons.filled.Search&#10;import androidx.compose.material3.*&#10;import androidx.compose.material3.MenuAnchorType&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.res.stringResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.unit.dp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import com.maswadkar.developers.androidify.R&#10;import com.maswadkar.developers.androidify.data.MandiPrice&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun MandiPricesScreen(&#10;    onBackClick: () -&gt; Unit,&#10;    modifier: Modifier = Modifier,&#10;    viewModel: MandiPricesViewModel = viewModel()&#10;) {&#10;    val uiState by viewModel.uiState.collectAsState()&#10;&#10;    Scaffold(&#10;        modifier = modifier.fillMaxSize(),&#10;        topBar = {&#10;            TopAppBar(&#10;                title = { Text(stringResource(R.string.menu_mandi_prices)) },&#10;                navigationIcon = {&#10;                    IconButton(onClick = onBackClick) {&#10;                        Icon(&#10;                            imageVector = Icons.AutoMirrored.Filled.ArrowBack,&#10;                            contentDescription = stringResource(R.string.back)&#10;                        )&#10;                    }&#10;                },&#10;                actions = {&#10;                    if (uiState.prices.isNotEmpty()) {&#10;                        IconButton(onClick = { viewModel.clearFilters() }) {&#10;                            Icon(&#10;                                imageVector = Icons.Default.Clear,&#10;                                contentDescription = stringResource(R.string.clear_filters)&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;            )&#10;        }&#10;    ) { paddingValues -&gt;&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(paddingValues)&#10;        ) {&#10;            // Show loading during initialization&#10;            if (uiState.isInitializing) {&#10;                Box(&#10;                    modifier = Modifier.fillMaxSize(),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    CircularProgressIndicator()&#10;                }&#10;                return@Scaffold&#10;            }&#10;&#10;            // Filters Section - Compact or Full mode&#10;            if (uiState.isCompactMode) {&#10;                CompactFiltersSection(&#10;                    uiState = uiState,&#10;                    onCommoditySelected = viewModel::onCommoditySelected,&#10;                    onSearchClick = viewModel::loadPrices,&#10;                    onChangeLocation = viewModel::switchToFullMode&#10;                )&#10;            } else {&#10;                FullFiltersSection(&#10;                    uiState = uiState,&#10;                    onStateSelected = viewModel::onStateSelected,&#10;                    onDistrictSelected = viewModel::onDistrictSelected,&#10;                    onCommoditySelected = viewModel::onCommoditySelected,&#10;                    onSearchClick = viewModel::loadPrices,&#10;                    onCancelChange = if (uiState.hasPreferences) viewModel::switchToCompactMode else null&#10;                )&#10;            }&#10;&#10;            HorizontalDivider()&#10;&#10;            // Results Section&#10;            Box(modifier = Modifier.weight(1f)) {&#10;                when {&#10;                    uiState.isLoading -&gt; {&#10;                        CircularProgressIndicator(&#10;                            modifier = Modifier.align(Alignment.Center)&#10;                        )&#10;                    }&#10;                    uiState.error != null -&gt; {&#10;                        ErrorMessage(&#10;                            message = uiState.error!!,&#10;                            onDismiss = viewModel::clearError,&#10;                            modifier = Modifier.align(Alignment.Center)&#10;                        )&#10;                    }&#10;                    uiState.prices.isEmpty() &amp;&amp; uiState.selectedState != null &amp;&amp; uiState.selectedDistrict != null -&gt; {&#10;                        EmptyState(&#10;                            modifier = Modifier.align(Alignment.Center)&#10;                        )&#10;                    }&#10;                    !uiState.isCompactMode &amp;&amp; uiState.selectedState == null -&gt; {&#10;                        SelectStatePrompt(&#10;                            modifier = Modifier.align(Alignment.Center)&#10;                        )&#10;                    }&#10;                    uiState.isCompactMode &amp;&amp; uiState.prices.isEmpty() -&gt; {&#10;                        SearchPrompt(&#10;                            modifier = Modifier.align(Alignment.Center)&#10;                        )&#10;                    }&#10;                    else -&gt; {&#10;                        PricesList(&#10;                            prices = uiState.prices,&#10;                            latestDataDate = uiState.latestDataDate&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun CompactFiltersSection(&#10;    uiState: MandiPricesUiState,&#10;    onCommoditySelected: (String?) -&gt; Unit,&#10;    onSearchClick: () -&gt; Unit,&#10;    onChangeLocation: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .padding(16.dp),&#10;        verticalArrangement = Arrangement.spacedBy(12.dp)&#10;    ) {&#10;        // Location chip with change button&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            AssistChip(&#10;                onClick = { },&#10;                label = {&#10;                    Text(&#10;                        text = &quot;${uiState.savedPreferences?.district}, ${uiState.savedPreferences?.state}&quot;,&#10;                        style = MaterialTheme.typography.bodyMedium&#10;                    )&#10;                },&#10;                leadingIcon = {&#10;                    Icon(&#10;                        imageVector = Icons.Default.LocationOn,&#10;                        contentDescription = null,&#10;                        modifier = Modifier.size(18.dp)&#10;                    )&#10;                }&#10;            )&#10;&#10;            TextButton(onClick = onChangeLocation) {&#10;                Icon(&#10;                    imageVector = Icons.Default.Edit,&#10;                    contentDescription = null,&#10;                    modifier = Modifier.size(16.dp)&#10;                )&#10;                Spacer(modifier = Modifier.width(4.dp))&#10;                Text(stringResource(R.string.change_location))&#10;            }&#10;        }&#10;&#10;        // Commodity dropdown + Search button&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(8.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            FilterDropdown(&#10;                label = stringResource(R.string.filter_commodity),&#10;                options = uiState.commodities,&#10;                selectedOption = uiState.selectedCommodity,&#10;                onOptionSelected = onCommoditySelected,&#10;                enabled = uiState.commodities.isNotEmpty(),&#10;                modifier = Modifier.weight(1f)&#10;            )&#10;&#10;            FilledTonalButton(&#10;                onClick = onSearchClick,&#10;                modifier = Modifier.padding(top = 8.dp)&#10;            ) {&#10;                Icon(&#10;                    imageVector = Icons.Default.Search,&#10;                    contentDescription = null,&#10;                    modifier = Modifier.size(18.dp)&#10;                )&#10;                Spacer(modifier = Modifier.width(4.dp))&#10;                Text(stringResource(R.string.search))&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun FullFiltersSection(&#10;    uiState: MandiPricesUiState,&#10;    onStateSelected: (String?) -&gt; Unit,&#10;    onDistrictSelected: (String?) -&gt; Unit,&#10;    onCommoditySelected: (String?) -&gt; Unit,&#10;    onSearchClick: () -&gt; Unit,&#10;    onCancelChange: (() -&gt; Unit)?,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .padding(16.dp),&#10;        verticalArrangement = Arrangement.spacedBy(12.dp)&#10;    ) {&#10;        // Show cancel button if user has preferences and switched to full mode&#10;        if (onCancelChange != null) {&#10;            Row(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                horizontalArrangement = Arrangement.SpaceBetween,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Text(&#10;                    text = stringResource(R.string.change_location_title),&#10;                    style = MaterialTheme.typography.titleSmall,&#10;                    color = MaterialTheme.colorScheme.primary&#10;                )&#10;                TextButton(onClick = onCancelChange) {&#10;                    Text(stringResource(R.string.cancel))&#10;                }&#10;            }&#10;        }&#10;&#10;        // State Dropdown&#10;        FilterDropdown(&#10;            label = stringResource(R.string.filter_state),&#10;            options = uiState.states,&#10;            selectedOption = uiState.selectedState,&#10;            onOptionSelected = onStateSelected,&#10;            enabled = uiState.states.isNotEmpty()&#10;        )&#10;&#10;        // District Dropdown&#10;        FilterDropdown(&#10;            label = stringResource(R.string.filter_district),&#10;            options = uiState.districts,&#10;            selectedOption = uiState.selectedDistrict,&#10;            onOptionSelected = onDistrictSelected,&#10;            enabled = uiState.selectedState != null &amp;&amp; uiState.districts.isNotEmpty()&#10;        )&#10;&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(8.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            // Commodity Dropdown&#10;            FilterDropdown(&#10;                label = stringResource(R.string.filter_commodity),&#10;                options = uiState.commodities,&#10;                selectedOption = uiState.selectedCommodity,&#10;                onOptionSelected = onCommoditySelected,&#10;                enabled = uiState.selectedDistrict != null &amp;&amp; uiState.commodities.isNotEmpty(),&#10;                modifier = Modifier.weight(1f)&#10;            )&#10;&#10;            // Search Button&#10;            FilledTonalButton(&#10;                onClick = onSearchClick,&#10;                enabled = uiState.selectedState != null &amp;&amp; uiState.selectedDistrict != null,&#10;                modifier = Modifier.padding(top = 8.dp)&#10;            ) {&#10;                Icon(&#10;                    imageVector = Icons.Default.Search,&#10;                    contentDescription = null,&#10;                    modifier = Modifier.size(18.dp)&#10;                )&#10;                Spacer(modifier = Modifier.width(4.dp))&#10;                Text(stringResource(R.string.search))&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun FilterDropdown(&#10;    label: String,&#10;    options: List&lt;String&gt;,&#10;    selectedOption: String?,&#10;    onOptionSelected: (String?) -&gt; Unit,&#10;    enabled: Boolean,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    var expanded by remember { mutableStateOf(false) }&#10;&#10;    ExposedDropdownMenuBox(&#10;        expanded = expanded,&#10;        onExpandedChange = { newValue -&gt; if (enabled) expanded = newValue },&#10;        modifier = modifier&#10;    ) {&#10;        OutlinedTextField(&#10;            value = selectedOption ?: &quot;&quot;,&#10;            onValueChange = {},&#10;            readOnly = true,&#10;            label = { Text(label) },&#10;            trailingIcon = { ExposedDropdownMenuDefaults.TrailingIcon(expanded = expanded) },&#10;            colors = ExposedDropdownMenuDefaults.outlinedTextFieldColors(),&#10;            enabled = enabled,&#10;            modifier = Modifier&#10;                .menuAnchor(MenuAnchorType.PrimaryNotEditable, enabled)&#10;                .fillMaxWidth()&#10;        )&#10;&#10;        ExposedDropdownMenu(&#10;            expanded = expanded,&#10;            onDismissRequest = { expanded = false }&#10;        ) {&#10;            options.forEach { option -&gt;&#10;                DropdownMenuItem(&#10;                    text = { Text(option) },&#10;                    onClick = {&#10;                        onOptionSelected(option)&#10;                        expanded = false&#10;                    }&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PricesList(&#10;    prices: List&lt;MandiPrice&gt;,&#10;    modifier: Modifier = Modifier,&#10;    latestDataDate: String? = null&#10;) {&#10;    LazyColumn(&#10;        modifier = modifier.fillMaxSize(),&#10;        contentPadding = PaddingValues(16.dp),&#10;        verticalArrangement = Arrangement.spacedBy(12.dp)&#10;    ) {&#10;        // Show &quot;Data as of&quot; header if we have a date&#10;        if (latestDataDate != null) {&#10;            item {&#10;                DataAsOfHeader(date = latestDataDate)&#10;            }&#10;        }&#10;&#10;        items(prices, key = { it.id.ifEmpty { &quot;${it.market}_${it.commodity}_${it.arrivalDate}&quot; } }) { price -&gt;&#10;            PriceCard(price = price)&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun DataAsOfHeader(&#10;    date: String,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Surface(&#10;        modifier = modifier.fillMaxWidth(),&#10;        color = MaterialTheme.colorScheme.secondaryContainer,&#10;        shape = MaterialTheme.shapes.small&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.padding(horizontal = 12.dp, vertical = 8.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Icon(&#10;                imageVector = Icons.Default.DateRange,&#10;                contentDescription = null,&#10;                modifier = Modifier.size(16.dp),&#10;                tint = MaterialTheme.colorScheme.onSecondaryContainer&#10;            )&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Text(&#10;                text = stringResource(R.string.data_as_of, date),&#10;                style = MaterialTheme.typography.labelMedium,&#10;                color = MaterialTheme.colorScheme.onSecondaryContainer&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PriceCard(&#10;    price: MandiPrice,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Card(&#10;        modifier = modifier.fillMaxWidth(),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 2.dp),&#10;        colors = CardDefaults.cardColors(&#10;            containerColor = MaterialTheme.colorScheme.surfaceContainerLow&#10;        ),&#10;        shape = MaterialTheme.shapes.medium&#10;    ) {&#10;        Column(&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;            // Header with commodity name - uses primary container for theme harmony&#10;            Surface(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                color = MaterialTheme.colorScheme.primaryContainer,&#10;                shape = RoundedCornerShape(topStart = 12.dp, topEnd = 12.dp)&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier.padding(horizontal = 16.dp, vertical = 12.dp)&#10;                ) {&#10;                    Text(&#10;                        text = price.commodity,&#10;                        style = MaterialTheme.typography.titleMedium,&#10;                        fontWeight = FontWeight.Bold,&#10;                        color = MaterialTheme.colorScheme.onPrimaryContainer&#10;                    )&#10;                    if (price.variety.isNotEmpty() || price.grade.isNotEmpty()) {&#10;                        Text(&#10;                            text = listOfNotNull(&#10;                                price.variety.takeIf { it.isNotEmpty() },&#10;                                price.grade.takeIf { it.isNotEmpty() }&#10;                            ).joinToString(&quot;  &quot;),&#10;                            style = MaterialTheme.typography.bodySmall,&#10;                            color = MaterialTheme.colorScheme.onPrimaryContainer.copy(alpha = 0.8f)&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;&#10;            // Content section&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(16.dp)&#10;            ) {&#10;                // Market and Location with icon&#10;                Row(&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Icon(&#10;                        imageVector = Icons.Default.LocationOn,&#10;                        contentDescription = null,&#10;                        modifier = Modifier.size(16.dp),&#10;                        tint = MaterialTheme.colorScheme.tertiary&#10;                    )&#10;                    Spacer(modifier = Modifier.width(4.dp))&#10;                    Text(&#10;                        text = price.market,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        fontWeight = FontWeight.Medium,&#10;                        color = MaterialTheme.colorScheme.onSurface&#10;                    )&#10;                }&#10;                Text(&#10;                    text = &quot;${price.district}, ${price.state}&quot;,&#10;                    style = MaterialTheme.typography.bodySmall,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant,&#10;                    modifier = Modifier.padding(start = 20.dp)&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                // Prices Row with theme-aware chips&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.SpaceEvenly&#10;                ) {&#10;                    PriceChip(&#10;                        label = stringResource(R.string.price_min),&#10;                        value = &quot;${price.minPrice.toInt()}&quot;,&#10;                        containerColor = MaterialTheme.colorScheme.secondaryContainer,&#10;                        contentColor = MaterialTheme.colorScheme.onSecondaryContainer&#10;                    )&#10;                    PriceChip(&#10;                        label = stringResource(R.string.price_modal),&#10;                        value = &quot;${price.modalPrice.toInt()}&quot;,&#10;                        containerColor = MaterialTheme.colorScheme.tertiaryContainer,&#10;                        contentColor = MaterialTheme.colorScheme.onTertiaryContainer,&#10;                        isHighlighted = true&#10;                    )&#10;                    PriceChip(&#10;                        label = stringResource(R.string.price_max),&#10;                        value = &quot;${price.maxPrice.toInt()}&quot;,&#10;                        containerColor = MaterialTheme.colorScheme.secondaryContainer,&#10;                        contentColor = MaterialTheme.colorScheme.onSecondaryContainer&#10;                    )&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(12.dp))&#10;&#10;                // Arrival Date with calendar icon&#10;                Row(&#10;                    modifier = Modifier.align(Alignment.End),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Icon(&#10;                        imageVector = Icons.Default.DateRange,&#10;                        contentDescription = null,&#10;                        modifier = Modifier.size(14.dp),&#10;                        tint = MaterialTheme.colorScheme.onSurfaceVariant&#10;                    )&#10;                    Spacer(modifier = Modifier.width(4.dp))&#10;                    Text(&#10;                        text = price.arrivalDate,&#10;                        style = MaterialTheme.typography.labelSmall,&#10;                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PriceChip(&#10;    label: String,&#10;    value: String,&#10;    containerColor: Color,&#10;    contentColor: Color,&#10;    modifier: Modifier = Modifier,&#10;    isHighlighted: Boolean = false&#10;) {&#10;    Surface(&#10;        modifier = modifier,&#10;        shape = RoundedCornerShape(12.dp),&#10;        color = containerColor&#10;    ) {&#10;        Column(&#10;            modifier = Modifier.padding(horizontal = 12.dp, vertical = 8.dp),&#10;            horizontalAlignment = Alignment.CenterHorizontally&#10;        ) {&#10;            Text(&#10;                text = label,&#10;                style = MaterialTheme.typography.labelSmall,&#10;                color = contentColor.copy(alpha = 0.7f)&#10;            )&#10;            Text(&#10;                text = value,&#10;                style = if (isHighlighted) MaterialTheme.typography.titleMedium else MaterialTheme.typography.bodyLarge,&#10;                fontWeight = if (isHighlighted) FontWeight.Bold else FontWeight.SemiBold,&#10;                color = contentColor&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun SelectStatePrompt(modifier: Modifier = Modifier) {&#10;    Column(&#10;        modifier = modifier.padding(32.dp),&#10;        horizontalAlignment = Alignment.CenterHorizontally&#10;    ) {&#10;        Text(&#10;            text = stringResource(R.string.select_state_prompt),&#10;            style = MaterialTheme.typography.bodyLarge,&#10;            textAlign = TextAlign.Center,&#10;            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun SearchPrompt(modifier: Modifier = Modifier) {&#10;    Column(&#10;        modifier = modifier.padding(32.dp),&#10;        horizontalAlignment = Alignment.CenterHorizontally&#10;    ) {&#10;        Text(&#10;            text = stringResource(R.string.search_prompt),&#10;            style = MaterialTheme.typography.bodyLarge,&#10;            textAlign = TextAlign.Center,&#10;            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun EmptyState(modifier: Modifier = Modifier) {&#10;    Column(&#10;        modifier = modifier.padding(32.dp),&#10;        horizontalAlignment = Alignment.CenterHorizontally&#10;    ) {&#10;        Text(&#10;            text = stringResource(R.string.no_prices_found),&#10;            style = MaterialTheme.typography.bodyLarge,&#10;            textAlign = TextAlign.Center,&#10;            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ErrorMessage(&#10;    message: String,&#10;    onDismiss: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Column(&#10;        modifier = modifier.padding(32.dp),&#10;        horizontalAlignment = Alignment.CenterHorizontally&#10;    ) {&#10;        Text(&#10;            text = message,&#10;            style = MaterialTheme.typography.bodyLarge,&#10;            textAlign = TextAlign.Center,&#10;            color = MaterialTheme.colorScheme.error&#10;        )&#10;        Spacer(modifier = Modifier.height(16.dp))&#10;        TextButton(onClick = onDismiss) {&#10;            Text(stringResource(R.string.dismiss))&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/maswadkar/developers/androidify/ui/screens/MandiPricesViewModel.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/maswadkar/developers/androidify/ui/screens/MandiPricesViewModel.kt" />
              <option name="originalContent" value="package com.maswadkar.developers.androidify.ui.screens&#10;&#10;import androidx.lifecycle.ViewModel&#10;import androidx.lifecycle.viewModelScope&#10;import com.google.firebase.auth.FirebaseAuth&#10;import com.maswadkar.developers.androidify.data.MandiPreferences&#10;import com.maswadkar.developers.androidify.data.MandiPrice&#10;import com.maswadkar.developers.androidify.data.MandiPriceRepository&#10;import kotlinx.coroutines.flow.MutableStateFlow&#10;import kotlinx.coroutines.flow.StateFlow&#10;import kotlinx.coroutines.flow.asStateFlow&#10;import kotlinx.coroutines.launch&#10;&#10;data class MandiPricesUiState(&#10;    val isLoading: Boolean = false,&#10;    val isInitializing: Boolean = true,&#10;    val hasPreferences: Boolean = false,&#10;    val isCompactMode: Boolean = false,&#10;    val savedPreferences: MandiPreferences? = null,&#10;    val states: List&lt;String&gt; = emptyList(),&#10;    val districts: List&lt;String&gt; = emptyList(),&#10;    val commodities: List&lt;String&gt; = emptyList(),&#10;    val markets: List&lt;String&gt; = emptyList(),&#10;    val selectedState: String? = null,&#10;    val selectedDistrict: String? = null,&#10;    val selectedCommodity: String? = null,&#10;    val selectedMarket: String? = null,&#10;    val prices: List&lt;MandiPrice&gt; = emptyList(),&#10;    val latestDataDate: String? = null,&#10;    val error: String? = null&#10;)&#10;&#10;class MandiPricesViewModel : ViewModel() {&#10;&#10;    private val repository = MandiPriceRepository.getInstance()&#10;    private val auth = FirebaseAuth.getInstance()&#10;&#10;    private val _uiState = MutableStateFlow(MandiPricesUiState())&#10;    val uiState: StateFlow&lt;MandiPricesUiState&gt; = _uiState.asStateFlow()&#10;&#10;    private val userId: String?&#10;        get() = auth.currentUser?.uid&#10;&#10;    init {&#10;        loadUserPreferences()&#10;    }&#10;&#10;    private fun loadUserPreferences() {&#10;        val uid = userId ?: run {&#10;            // No user logged in, show full mode&#10;            _uiState.value = _uiState.value.copy(isInitializing = false)&#10;            loadStates()&#10;            return&#10;        }&#10;&#10;        viewModelScope.launch {&#10;            try {&#10;                val preferences = repository.getUserPreferences(uid)&#10;                if (preferences != null &amp;&amp; preferences.isValid()) {&#10;                    // User has saved preferences - show compact mode&#10;                    _uiState.value = _uiState.value.copy(&#10;                        isInitializing = false,&#10;                        hasPreferences = true,&#10;                        isCompactMode = true,&#10;                        savedPreferences = preferences,&#10;                        selectedState = preferences.state,&#10;                        selectedDistrict = preferences.district,&#10;                        selectedMarket = preferences.market,&#10;                        selectedCommodity = preferences.lastCommodity&#10;                    )&#10;                    // Load commodities for saved location&#10;                    loadCommoditiesForPreferences(preferences)&#10;                } else {&#10;                    // No preferences - show full mode&#10;                    _uiState.value = _uiState.value.copy(isInitializing = false)&#10;                    loadStates()&#10;                }&#10;            } catch (e: Exception) {&#10;                _uiState.value = _uiState.value.copy(&#10;                    isInitializing = false,&#10;                    error = e.message&#10;                )&#10;                loadStates()&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun loadCommoditiesForPreferences(preferences: MandiPreferences) {&#10;        viewModelScope.launch {&#10;            try {&#10;                val commodities = repository.getCommodities(preferences.state, preferences.district)&#10;                _uiState.value = _uiState.value.copy(&#10;                    commodities = commodities,&#10;                    isLoading = false&#10;                )&#10;            } catch (e: Exception) {&#10;                _uiState.value = _uiState.value.copy(&#10;                    error = e.message,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun loadStates() {&#10;        viewModelScope.launch {&#10;            _uiState.value = _uiState.value.copy(isLoading = true)&#10;            try {&#10;                val states = repository.getStates()&#10;                _uiState.value = _uiState.value.copy(&#10;                    states = states,&#10;                    isLoading = false&#10;                )&#10;            } catch (e: Exception) {&#10;                _uiState.value = _uiState.value.copy(&#10;                    error = e.message,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    fun onStateSelected(state: String?) {&#10;        _uiState.value = _uiState.value.copy(&#10;            selectedState = state,&#10;            selectedDistrict = null,&#10;            selectedCommodity = null,&#10;            selectedMarket = null,&#10;            districts = emptyList(),&#10;            commodities = emptyList(),&#10;            markets = emptyList(),&#10;            prices = emptyList()&#10;        )&#10;&#10;        state?.let { loadDistricts(it) }&#10;    }&#10;&#10;    private fun loadDistricts(state: String) {&#10;        viewModelScope.launch {&#10;            _uiState.value = _uiState.value.copy(isLoading = true)&#10;            try {&#10;                val districts = repository.getDistricts(state)&#10;                _uiState.value = _uiState.value.copy(&#10;                    districts = districts,&#10;                    isLoading = false&#10;                )&#10;            } catch (e: Exception) {&#10;                _uiState.value = _uiState.value.copy(&#10;                    error = e.message,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    fun onDistrictSelected(district: String?) {&#10;        _uiState.value = _uiState.value.copy(&#10;            selectedDistrict = district,&#10;            selectedCommodity = null,&#10;            selectedMarket = null,&#10;            commodities = emptyList(),&#10;            markets = emptyList(),&#10;            prices = emptyList()&#10;        )&#10;&#10;        val state = _uiState.value.selectedState&#10;        if (state != null &amp;&amp; district != null) {&#10;            loadCommoditiesAndMarkets(state, district)&#10;        }&#10;    }&#10;&#10;    private fun loadCommoditiesAndMarkets(state: String, district: String) {&#10;        viewModelScope.launch {&#10;            _uiState.value = _uiState.value.copy(isLoading = true)&#10;            try {&#10;                val commodities = repository.getCommodities(state, district)&#10;                val markets = repository.getMarkets(state, district)&#10;                _uiState.value = _uiState.value.copy(&#10;                    commodities = commodities,&#10;                    markets = markets,&#10;                    isLoading = false&#10;                )&#10;            } catch (e: Exception) {&#10;                _uiState.value = _uiState.value.copy(&#10;                    error = e.message,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    fun onCommoditySelected(commodity: String?) {&#10;        _uiState.value = _uiState.value.copy(selectedCommodity = commodity)&#10;    }&#10;&#10;    fun onMarketSelected(market: String?) {&#10;        _uiState.value = _uiState.value.copy(selectedMarket = market)&#10;    }&#10;&#10;    fun loadPrices() {&#10;        val state = _uiState.value.selectedState ?: return&#10;        val district = _uiState.value.selectedDistrict&#10;&#10;        viewModelScope.launch {&#10;            _uiState.value = _uiState.value.copy(isLoading = true)&#10;            try {&#10;                val prices = repository.getMandiPrices(&#10;                    state = state,&#10;                    district = district,&#10;                    market = _uiState.value.selectedMarket,&#10;                    commodity = _uiState.value.selectedCommodity&#10;                )&#10;&#10;                // Fetch the latest data date for display&#10;                val latestDate = if (district != null) {&#10;                    repository.getLatestDataDate(state, district)&#10;                } else null&#10;&#10;                _uiState.value = _uiState.value.copy(&#10;                    prices = prices,&#10;                    latestDataDate = latestDate,&#10;                    isLoading = false&#10;                )&#10;&#10;                // Auto-save preferences after first successful search with state+district&#10;                if (!_uiState.value.hasPreferences &amp;&amp; district != null) {&#10;                    savePreferencesInternal()&#10;                }&#10;&#10;                // Update last commodity if user has preferences&#10;                if (_uiState.value.hasPreferences &amp;&amp; _uiState.value.selectedCommodity != null) {&#10;                    updateLastCommodity()&#10;                }&#10;            } catch (e: Exception) {&#10;                _uiState.value = _uiState.value.copy(&#10;                    error = e.message,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    private suspend fun savePreferencesInternal() {&#10;        val uid = userId ?: return&#10;        val state = _uiState.value.selectedState ?: return&#10;        val district = _uiState.value.selectedDistrict ?: return&#10;&#10;        val preferences = MandiPreferences(&#10;            state = state,&#10;            district = district,&#10;            market = _uiState.value.selectedMarket,&#10;            lastCommodity = _uiState.value.selectedCommodity&#10;        )&#10;&#10;        if (repository.saveUserPreferences(uid, preferences)) {&#10;            _uiState.value = _uiState.value.copy(&#10;                hasPreferences = true,&#10;                isCompactMode = true,&#10;                savedPreferences = preferences&#10;            )&#10;        }&#10;    }&#10;&#10;    private suspend fun updateLastCommodity() {&#10;        val uid = userId ?: return&#10;        val commodity = _uiState.value.selectedCommodity ?: return&#10;        repository.updateLastCommodity(uid, commodity)&#10;    }&#10;&#10;    fun savePreferences() {&#10;        viewModelScope.launch {&#10;            savePreferencesInternal()&#10;        }&#10;    }&#10;&#10;    fun switchToFullMode() {&#10;        _uiState.value = _uiState.value.copy(isCompactMode = false)&#10;        if (_uiState.value.states.isEmpty()) {&#10;            loadStates()&#10;        }&#10;    }&#10;&#10;    fun switchToCompactMode() {&#10;        val prefs = _uiState.value.savedPreferences&#10;        if (prefs != null &amp;&amp; prefs.isValid()) {&#10;            _uiState.value = _uiState.value.copy(&#10;                isCompactMode = true,&#10;                selectedState = prefs.state,&#10;                selectedDistrict = prefs.district,&#10;                selectedMarket = prefs.market,&#10;                selectedCommodity = prefs.lastCommodity&#10;            )&#10;            loadCommoditiesForPreferences(prefs)&#10;        }&#10;    }&#10;&#10;    fun clearFilters() {&#10;        _uiState.value = _uiState.value.copy(&#10;            selectedCommodity = null,&#10;            selectedMarket = null,&#10;            prices = emptyList(),&#10;            latestDataDate = null&#10;        )&#10;    }&#10;&#10;    fun clearError() {&#10;        _uiState.value = _uiState.value.copy(error = null)&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.maswadkar.developers.androidify.ui.screens&#10;&#10;import androidx.lifecycle.ViewModel&#10;import androidx.lifecycle.viewModelScope&#10;import com.google.firebase.auth.FirebaseAuth&#10;import com.maswadkar.developers.androidify.data.MandiPreferences&#10;import com.maswadkar.developers.androidify.data.MandiPrice&#10;import com.maswadkar.developers.androidify.data.MandiPriceRepository&#10;import kotlinx.coroutines.flow.MutableStateFlow&#10;import kotlinx.coroutines.flow.StateFlow&#10;import kotlinx.coroutines.flow.asStateFlow&#10;import kotlinx.coroutines.launch&#10;&#10;data class MandiPricesUiState(&#10;    val isLoading: Boolean = false,&#10;    val isInitializing: Boolean = true,&#10;    val hasPreferences: Boolean = false,&#10;    val isCompactMode: Boolean = false,&#10;    val savedPreferences: MandiPreferences? = null,&#10;    val states: List&lt;String&gt; = emptyList(),&#10;    val districts: List&lt;String&gt; = emptyList(),&#10;    val commodities: List&lt;String&gt; = emptyList(),&#10;    val markets: List&lt;String&gt; = emptyList(),&#10;    val selectedState: String? = null,&#10;    val selectedDistrict: String? = null,&#10;    val selectedCommodity: String? = null,&#10;    val selectedMarket: String? = null,&#10;    val prices: List&lt;MandiPrice&gt; = emptyList(),&#10;    val latestDataDate: String? = null,&#10;    val error: String? = null&#10;)&#10;&#10;class MandiPricesViewModel : ViewModel() {&#10;&#10;    private val repository = MandiPriceRepository.getInstance()&#10;    private val auth = FirebaseAuth.getInstance()&#10;&#10;    private val _uiState = MutableStateFlow(MandiPricesUiState())&#10;    val uiState: StateFlow&lt;MandiPricesUiState&gt; = _uiState.asStateFlow()&#10;&#10;    private val userId: String?&#10;        get() = auth.currentUser?.uid&#10;&#10;    init {&#10;        loadUserPreferences()&#10;    }&#10;&#10;    private fun loadUserPreferences() {&#10;        val uid = userId ?: run {&#10;            // No user logged in, show full mode&#10;            _uiState.value = _uiState.value.copy(isInitializing = false)&#10;            loadStates()&#10;            return&#10;        }&#10;&#10;        viewModelScope.launch {&#10;            try {&#10;                val preferences = repository.getUserPreferences(uid)&#10;                if (preferences != null &amp;&amp; preferences.isValid()) {&#10;                    // User has saved preferences - show compact mode&#10;                    _uiState.value = _uiState.value.copy(&#10;                        isInitializing = false,&#10;                        hasPreferences = true,&#10;                        isCompactMode = true,&#10;                        savedPreferences = preferences,&#10;                        selectedState = preferences.state,&#10;                        selectedDistrict = preferences.district,&#10;                        selectedMarket = preferences.market,&#10;                        selectedCommodity = preferences.lastCommodity&#10;                    )&#10;                    // Load commodities for saved location&#10;                    loadCommoditiesForPreferences(preferences)&#10;                } else {&#10;                    // No preferences - show full mode&#10;                    _uiState.value = _uiState.value.copy(isInitializing = false)&#10;                    loadStates()&#10;                }&#10;            } catch (e: Exception) {&#10;                _uiState.value = _uiState.value.copy(&#10;                    isInitializing = false,&#10;                    error = e.message&#10;                )&#10;                loadStates()&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun loadCommoditiesForPreferences(preferences: MandiPreferences) {&#10;        viewModelScope.launch {&#10;            try {&#10;                val commodities = repository.getCommodities(preferences.state, preferences.district)&#10;                _uiState.value = _uiState.value.copy(&#10;                    commodities = commodities,&#10;                    isLoading = false&#10;                )&#10;            } catch (e: Exception) {&#10;                _uiState.value = _uiState.value.copy(&#10;                    error = e.message,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun loadStates() {&#10;        viewModelScope.launch {&#10;            _uiState.value = _uiState.value.copy(isLoading = true)&#10;            try {&#10;                val states = repository.getStates()&#10;                _uiState.value = _uiState.value.copy(&#10;                    states = states,&#10;                    isLoading = false&#10;                )&#10;            } catch (e: Exception) {&#10;                _uiState.value = _uiState.value.copy(&#10;                    error = e.message,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    fun onStateSelected(state: String?) {&#10;        _uiState.value = _uiState.value.copy(&#10;            selectedState = state,&#10;            selectedDistrict = null,&#10;            selectedCommodity = null,&#10;            selectedMarket = null,&#10;            districts = emptyList(),&#10;            commodities = emptyList(),&#10;            markets = emptyList(),&#10;            prices = emptyList()&#10;        )&#10;&#10;        state?.let { loadDistricts(it) }&#10;    }&#10;&#10;    private fun loadDistricts(state: String) {&#10;        viewModelScope.launch {&#10;            _uiState.value = _uiState.value.copy(isLoading = true)&#10;            try {&#10;                val districts = repository.getDistricts(state)&#10;                _uiState.value = _uiState.value.copy(&#10;                    districts = districts,&#10;                    isLoading = false&#10;                )&#10;            } catch (e: Exception) {&#10;                _uiState.value = _uiState.value.copy(&#10;                    error = e.message,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    fun onDistrictSelected(district: String?) {&#10;        _uiState.value = _uiState.value.copy(&#10;            selectedDistrict = district,&#10;            selectedCommodity = null,&#10;            selectedMarket = null,&#10;            commodities = emptyList(),&#10;            markets = emptyList(),&#10;            prices = emptyList()&#10;        )&#10;&#10;        val state = _uiState.value.selectedState&#10;        if (state != null &amp;&amp; district != null) {&#10;            loadCommoditiesAndMarkets(state, district)&#10;        }&#10;    }&#10;&#10;    private fun loadCommoditiesAndMarkets(state: String, district: String) {&#10;        viewModelScope.launch {&#10;            _uiState.value = _uiState.value.copy(isLoading = true)&#10;            try {&#10;                val commodities = repository.getCommodities(state, district)&#10;                val markets = repository.getMarkets(state, district)&#10;                _uiState.value = _uiState.value.copy(&#10;                    commodities = commodities,&#10;                    markets = markets,&#10;                    isLoading = false&#10;                )&#10;            } catch (e: Exception) {&#10;                _uiState.value = _uiState.value.copy(&#10;                    error = e.message,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    fun onCommoditySelected(commodity: String?) {&#10;        _uiState.value = _uiState.value.copy(selectedCommodity = commodity)&#10;    }&#10;&#10;    @Suppress(&quot;unused&quot;)&#10;    fun onMarketSelected(market: String?) {&#10;        _uiState.value = _uiState.value.copy(selectedMarket = market)&#10;    }&#10;&#10;    fun loadPrices() {&#10;        val state = _uiState.value.selectedState ?: return&#10;        val district = _uiState.value.selectedDistrict&#10;&#10;        viewModelScope.launch {&#10;            _uiState.value = _uiState.value.copy(isLoading = true)&#10;            try {&#10;                val prices = repository.getMandiPrices(&#10;                    state = state,&#10;                    district = district,&#10;                    market = _uiState.value.selectedMarket,&#10;                    commodity = _uiState.value.selectedCommodity&#10;                )&#10;&#10;                // Fetch the latest data date for display&#10;                val latestDate = if (district != null) {&#10;                    repository.getLatestDataDate(state, district)&#10;                } else null&#10;&#10;                _uiState.value = _uiState.value.copy(&#10;                    prices = prices,&#10;                    latestDataDate = latestDate,&#10;                    isLoading = false&#10;                )&#10;&#10;                // Auto-save preferences after first successful search with state+district&#10;                if (!_uiState.value.hasPreferences &amp;&amp; district != null) {&#10;                    savePreferencesInternal()&#10;                }&#10;&#10;                // Update last commodity if user has preferences&#10;                if (_uiState.value.hasPreferences &amp;&amp; _uiState.value.selectedCommodity != null) {&#10;                    updateLastCommodity()&#10;                }&#10;            } catch (e: Exception) {&#10;                _uiState.value = _uiState.value.copy(&#10;                    error = e.message,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    private suspend fun savePreferencesInternal() {&#10;        val uid = userId ?: return&#10;        val state = _uiState.value.selectedState ?: return&#10;        val district = _uiState.value.selectedDistrict ?: return&#10;&#10;        val preferences = MandiPreferences(&#10;            state = state,&#10;            district = district,&#10;            market = _uiState.value.selectedMarket,&#10;            lastCommodity = _uiState.value.selectedCommodity&#10;        )&#10;&#10;        if (repository.saveUserPreferences(uid, preferences)) {&#10;            _uiState.value = _uiState.value.copy(&#10;                hasPreferences = true,&#10;                isCompactMode = true,&#10;                savedPreferences = preferences&#10;            )&#10;        }&#10;    }&#10;&#10;    private suspend fun updateLastCommodity() {&#10;        val uid = userId ?: return&#10;        val commodity = _uiState.value.selectedCommodity ?: return&#10;        repository.updateLastCommodity(uid, commodity)&#10;    }&#10;&#10;    @Suppress(&quot;unused&quot;)&#10;    fun savePreferences() {&#10;        viewModelScope.launch {&#10;            savePreferencesInternal()&#10;        }&#10;    }&#10;&#10;    fun switchToFullMode() {&#10;        _uiState.value = _uiState.value.copy(isCompactMode = false)&#10;        if (_uiState.value.states.isEmpty()) {&#10;            loadStates()&#10;        }&#10;    }&#10;&#10;    fun switchToCompactMode() {&#10;        val prefs = _uiState.value.savedPreferences&#10;        if (prefs != null &amp;&amp; prefs.isValid()) {&#10;            _uiState.value = _uiState.value.copy(&#10;                isCompactMode = true,&#10;                selectedState = prefs.state,&#10;                selectedDistrict = prefs.district,&#10;                selectedMarket = prefs.market,&#10;                selectedCommodity = prefs.lastCommodity&#10;            )&#10;            loadCommoditiesForPreferences(prefs)&#10;        }&#10;    }&#10;&#10;    fun clearFilters() {&#10;        _uiState.value = _uiState.value.copy(&#10;            selectedCommodity = null,&#10;            selectedMarket = null,&#10;            prices = emptyList(),&#10;            latestDataDate = null&#10;        )&#10;    }&#10;&#10;    fun clearError() {&#10;        _uiState.value = _uiState.value.copy(error = null)&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/activity_history.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/activity_history.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    tools:context=&quot;.HistoryActivity&quot;&gt;&#10;&#10;    &lt;androidx.appcompat.widget.Toolbar&#10;        android:id=&quot;@+id/toolbar&quot;&#10;        android:layout_width=&quot;0dp&quot;&#10;        android:layout_height=&quot;?attr/actionBarSize&quot;&#10;        android:background=&quot;?attr/colorPrimary&quot;&#10;        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;&#10;        app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;&#10;        app:title=&quot;@string/menu_history&quot;&#10;        app:navigationIcon=&quot;?attr/homeAsUpIndicator&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;&#10;&#10;    &lt;androidx.recyclerview.widget.RecyclerView&#10;        android:id=&quot;@+id/rvHistory&quot;&#10;        android:layout_width=&quot;0dp&quot;&#10;        android:layout_height=&quot;0dp&quot;&#10;        android:clipToPadding=&quot;false&quot;&#10;        android:paddingTop=&quot;8dp&quot;&#10;        android:paddingBottom=&quot;8dp&quot;&#10;        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot; /&gt;&#10;&#10;    &lt;!-- Empty state --&gt;&#10;    &lt;LinearLayout&#10;        android:id=&quot;@+id/emptyState&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:orientation=&quot;vertical&quot;&#10;        android:gravity=&quot;center&quot;&#10;        android:visibility=&quot;gone&quot;&#10;        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot;&gt;&#10;&#10;        &lt;ImageView&#10;            android:layout_width=&quot;80dp&quot;&#10;            android:layout_height=&quot;80dp&quot;&#10;            android:src=&quot;@drawable/ic_chat&quot;&#10;            android:alpha=&quot;0.5&quot;&#10;            app:tint=&quot;?android:attr/textColorSecondary&quot;&#10;            android:contentDescription=&quot;@string/no_history&quot; /&gt;&#10;&#10;        &lt;TextView&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginTop=&quot;16dp&quot;&#10;            android:text=&quot;@string/no_history&quot;&#10;            android:textSize=&quot;16sp&quot;&#10;            android:textColor=&quot;?android:attr/textColorSecondary&quot;&#10;            android:gravity=&quot;center&quot; /&gt;&#10;&#10;    &lt;/LinearLayout&gt;&#10;&#10;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/activity_main.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/activity_main.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&#10;    android:id=&quot;@+id/main&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    tools:context=&quot;.MainActivity&quot;&gt;&#10;&#10;    &lt;androidx.recyclerview.widget.RecyclerView&#10;        android:id=&quot;@+id/rvChat&quot;&#10;        android:layout_width=&quot;0dp&quot;&#10;        android:layout_height=&quot;0dp&quot;&#10;        android:paddingBottom=&quot;8dp&quot;&#10;        android:clipToPadding=&quot;false&quot;&#10;        app:layout_constraintBottom_toTopOf=&quot;@+id/etInput&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;&#10;&#10;    &lt;!-- Welcome View - shown when chat is empty --&gt;&#10;    &lt;ScrollView&#10;        android:id=&quot;@+id/welcomeView&quot;&#10;        android:layout_width=&quot;0dp&quot;&#10;        android:layout_height=&quot;0dp&quot;&#10;        android:visibility=&quot;visible&quot;&#10;        app:layout_constraintBottom_toTopOf=&quot;@+id/etInput&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&#10;&#10;        &lt;LinearLayout&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:orientation=&quot;vertical&quot;&#10;            android:padding=&quot;24dp&quot;&#10;            android:gravity=&quot;center_horizontal&quot;&gt;&#10;&#10;            &lt;!-- App Icon/Logo --&gt;&#10;            &lt;ImageView&#10;                android:layout_width=&quot;80dp&quot;&#10;                android:layout_height=&quot;80dp&quot;&#10;                android:layout_marginTop=&quot;32dp&quot;&#10;                android:src=&quot;@mipmap/ic_launcher_round&quot;&#10;                android:contentDescription=&quot;@string/app_name&quot; /&gt;&#10;&#10;            &lt;!-- Welcome Title --&gt;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/tvWelcomeTitle&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;16dp&quot;&#10;                android:text=&quot;@string/welcome_title&quot;&#10;                android:textSize=&quot;24sp&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:textColor=&quot;?android:attr/textColorPrimary&quot; /&gt;&#10;&#10;            &lt;!-- Welcome Subtitle --&gt;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/tvWelcomeSubtitle&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;8dp&quot;&#10;                android:text=&quot;@string/welcome_subtitle&quot;&#10;                android:textSize=&quot;16sp&quot;&#10;                android:textColor=&quot;?android:attr/textColorSecondary&quot;&#10;                android:gravity=&quot;center&quot; /&gt;&#10;&#10;            &lt;!-- Divider --&gt;&#10;            &lt;View&#10;                android:layout_width=&quot;60dp&quot;&#10;                android:layout_height=&quot;2dp&quot;&#10;                android:layout_marginTop=&quot;24dp&quot;&#10;                android:background=&quot;?android:attr/colorAccent&quot; /&gt;&#10;&#10;            &lt;!-- Features Section Title --&gt;&#10;            &lt;TextView&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;24dp&quot;&#10;                android:text=&quot;@string/features_title&quot;&#10;                android:textSize=&quot;18sp&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:textColor=&quot;?android:attr/textColorPrimary&quot; /&gt;&#10;&#10;            &lt;!-- Feature 1 --&gt;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;16dp&quot;&#10;                android:orientation=&quot;horizontal&quot;&#10;                android:gravity=&quot;center_vertical&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;32dp&quot;&#10;                    android:layout_height=&quot;32dp&quot;&#10;                    android:text=&quot;&quot;&#10;                    android:textSize=&quot;24sp&quot;&#10;                    android:gravity=&quot;center&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;0dp&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_weight=&quot;1&quot;&#10;                    android:layout_marginStart=&quot;12dp&quot;&#10;                    android:text=&quot;@string/feature_1&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:textColor=&quot;?android:attr/textColorSecondary&quot; /&gt;&#10;            &lt;/LinearLayout&gt;&#10;&#10;            &lt;!-- Feature 2 --&gt;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;12dp&quot;&#10;                android:orientation=&quot;horizontal&quot;&#10;                android:gravity=&quot;center_vertical&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;32dp&quot;&#10;                    android:layout_height=&quot;32dp&quot;&#10;                    android:text=&quot;&quot;&#10;                    android:textSize=&quot;24sp&quot;&#10;                    android:gravity=&quot;center&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;0dp&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_weight=&quot;1&quot;&#10;                    android:layout_marginStart=&quot;12dp&quot;&#10;                    android:text=&quot;@string/feature_2&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:textColor=&quot;?android:attr/textColorSecondary&quot; /&gt;&#10;            &lt;/LinearLayout&gt;&#10;&#10;            &lt;!-- Feature 3 --&gt;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;12dp&quot;&#10;                android:orientation=&quot;horizontal&quot;&#10;                android:gravity=&quot;center_vertical&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;32dp&quot;&#10;                    android:layout_height=&quot;32dp&quot;&#10;                    android:text=&quot;&quot;&#10;                    android:textSize=&quot;24sp&quot;&#10;                    android:gravity=&quot;center&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;0dp&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_weight=&quot;1&quot;&#10;                    android:layout_marginStart=&quot;12dp&quot;&#10;                    android:text=&quot;@string/feature_3&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:textColor=&quot;?android:attr/textColorSecondary&quot; /&gt;&#10;            &lt;/LinearLayout&gt;&#10;&#10;            &lt;!-- Feature 4 --&gt;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;12dp&quot;&#10;                android:orientation=&quot;horizontal&quot;&#10;                android:gravity=&quot;center_vertical&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;32dp&quot;&#10;                    android:layout_height=&quot;32dp&quot;&#10;                    android:text=&quot;&quot;&#10;                    android:textSize=&quot;24sp&quot;&#10;                    android:gravity=&quot;center&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;0dp&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_weight=&quot;1&quot;&#10;                    android:layout_marginStart=&quot;12dp&quot;&#10;                    android:text=&quot;@string/feature_4&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:textColor=&quot;?android:attr/textColorSecondary&quot; /&gt;&#10;            &lt;/LinearLayout&gt;&#10;&#10;            &lt;!-- Example Questions Section --&gt;&#10;            &lt;TextView&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;32dp&quot;&#10;                android:text=&quot;@string/try_asking_title&quot;&#10;                android:textSize=&quot;16sp&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:textColor=&quot;?android:attr/textColorPrimary&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/tvExample1&quot;&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;12dp&quot;&#10;                android:padding=&quot;12dp&quot;&#10;                android:background=&quot;?android:attr/selectableItemBackground&quot;&#10;                android:text=&quot;@string/example_question_1&quot;&#10;                android:textSize=&quot;14sp&quot;&#10;                android:textColor=&quot;?android:attr/colorAccent&quot;&#10;                android:drawableStart=&quot;@android:drawable/ic_menu_help&quot;&#10;                android:drawablePadding=&quot;8dp&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/tvExample2&quot;&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:padding=&quot;12dp&quot;&#10;                android:background=&quot;?android:attr/selectableItemBackground&quot;&#10;                android:text=&quot;@string/example_question_2&quot;&#10;                android:textSize=&quot;14sp&quot;&#10;                android:textColor=&quot;?android:attr/colorAccent&quot;&#10;                android:drawableStart=&quot;@android:drawable/ic_menu_help&quot;&#10;                android:drawablePadding=&quot;8dp&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/tvExample3&quot;&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:padding=&quot;12dp&quot;&#10;                android:background=&quot;?android:attr/selectableItemBackground&quot;&#10;                android:text=&quot;@string/example_question_3&quot;&#10;                android:textSize=&quot;14sp&quot;&#10;                android:textColor=&quot;?android:attr/colorAccent&quot;&#10;                android:drawableStart=&quot;@android:drawable/ic_menu_help&quot;&#10;                android:drawablePadding=&quot;8dp&quot; /&gt;&#10;&#10;            &lt;!-- Chat History Section --&gt;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/tvHistoryTitle&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;32dp&quot;&#10;                android:text=&quot;@string/history_title&quot;&#10;                android:textSize=&quot;16sp&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:textColor=&quot;?android:attr/textColorPrimary&quot;&#10;                android:visibility=&quot;gone&quot; /&gt;&#10;&#10;            &lt;androidx.recyclerview.widget.RecyclerView&#10;                android:id=&quot;@+id/rvHistory&quot;&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;8dp&quot;&#10;                android:nestedScrollingEnabled=&quot;false&quot;&#10;                android:visibility=&quot;gone&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/tvNoHistory&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;16dp&quot;&#10;                android:text=&quot;@string/no_history&quot;&#10;                android:textSize=&quot;14sp&quot;&#10;                android:textColor=&quot;?android:attr/textColorSecondary&quot;&#10;                android:visibility=&quot;gone&quot; /&gt;&#10;&#10;        &lt;/LinearLayout&gt;&#10;    &lt;/ScrollView&gt;&#10;&#10;&#10;    &lt;EditText&#10;        android:id=&quot;@+id/etInput&quot;&#10;        android:layout_width=&quot;0dp&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_marginStart=&quot;8dp&quot;&#10;        android:layout_marginEnd=&quot;8dp&quot;&#10;        android:layout_marginBottom=&quot;8dp&quot;&#10;        android:background=&quot;@android:drawable/edit_text&quot;&#10;        android:hint=&quot;@string/input_hint&quot;&#10;        android:padding=&quot;12dp&quot;&#10;        android:textColor=&quot;#000000&quot;&#10;        android:textColorHint=&quot;#808080&quot;&#10;        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toStartOf=&quot;@+id/btnSend&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;&#10;&#10;    &lt;Button&#10;        android:id=&quot;@+id/btnSend&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_marginEnd=&quot;8dp&quot;&#10;        android:layout_marginBottom=&quot;8dp&quot;&#10;        android:text=&quot;@string/send_button&quot;&#10;        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;&#10;&#10;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&#10;    android:id=&quot;@+id/drawerLayout&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:fitsSystemWindows=&quot;true&quot;&#10;    tools:context=&quot;.MainActivity&quot;&gt;&#10;&#10;    &lt;!-- Main content --&gt;&#10;    &lt;androidx.constraintlayout.widget.ConstraintLayout&#10;        android:id=&quot;@+id/main&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;match_parent&quot;&gt;&#10;&#10;        &lt;!-- Toolbar --&gt;&#10;        &lt;androidx.appcompat.widget.Toolbar&#10;            android:id=&quot;@+id/toolbar&quot;&#10;            android:layout_width=&quot;0dp&quot;&#10;            android:layout_height=&quot;?attr/actionBarSize&quot;&#10;            android:background=&quot;?attr/colorPrimary&quot;&#10;            android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;&#10;            app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;&#10;            app:title=&quot;@string/app_name&quot;&#10;            app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;            app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;&#10;&#10;        &lt;androidx.recyclerview.widget.RecyclerView&#10;            android:id=&quot;@+id/rvChat&quot;&#10;            android:layout_width=&quot;0dp&quot;&#10;            android:layout_height=&quot;0dp&quot;&#10;            android:paddingBottom=&quot;8dp&quot;&#10;            android:clipToPadding=&quot;false&quot;&#10;            app:layout_constraintBottom_toTopOf=&quot;@+id/etInput&quot;&#10;            app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;            app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;            app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot; /&gt;&#10;&#10;        &lt;!-- Welcome View - shown when chat is empty --&gt;&#10;        &lt;ScrollView&#10;            android:id=&quot;@+id/welcomeView&quot;&#10;            android:layout_width=&quot;0dp&quot;&#10;            android:layout_height=&quot;0dp&quot;&#10;            android:visibility=&quot;visible&quot;&#10;            app:layout_constraintBottom_toTopOf=&quot;@+id/etInput&quot;&#10;            app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;            app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;            app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot;&gt;&#10;&#10;        &lt;LinearLayout&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:orientation=&quot;vertical&quot;&#10;            android:padding=&quot;24dp&quot;&#10;            android:gravity=&quot;center_horizontal&quot;&gt;&#10;&#10;            &lt;!-- App Icon/Logo --&gt;&#10;            &lt;ImageView&#10;                android:layout_width=&quot;80dp&quot;&#10;                android:layout_height=&quot;80dp&quot;&#10;                android:layout_marginTop=&quot;32dp&quot;&#10;                android:src=&quot;@mipmap/ic_launcher_round&quot;&#10;                android:contentDescription=&quot;@string/app_name&quot; /&gt;&#10;&#10;            &lt;!-- Welcome Title --&gt;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/tvWelcomeTitle&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;16dp&quot;&#10;                android:text=&quot;@string/welcome_title&quot;&#10;                android:textSize=&quot;24sp&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:textColor=&quot;?android:attr/textColorPrimary&quot; /&gt;&#10;&#10;            &lt;!-- Welcome Subtitle --&gt;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/tvWelcomeSubtitle&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;8dp&quot;&#10;                android:text=&quot;@string/welcome_subtitle&quot;&#10;                android:textSize=&quot;16sp&quot;&#10;                android:textColor=&quot;?android:attr/textColorSecondary&quot;&#10;                android:gravity=&quot;center&quot; /&gt;&#10;&#10;            &lt;!-- Divider --&gt;&#10;            &lt;View&#10;                android:layout_width=&quot;60dp&quot;&#10;                android:layout_height=&quot;2dp&quot;&#10;                android:layout_marginTop=&quot;24dp&quot;&#10;                android:background=&quot;?android:attr/colorAccent&quot; /&gt;&#10;&#10;            &lt;!-- Features Section Title --&gt;&#10;            &lt;TextView&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;24dp&quot;&#10;                android:text=&quot;@string/features_title&quot;&#10;                android:textSize=&quot;18sp&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:textColor=&quot;?android:attr/textColorPrimary&quot; /&gt;&#10;&#10;            &lt;!-- Feature 1 --&gt;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;16dp&quot;&#10;                android:orientation=&quot;horizontal&quot;&#10;                android:gravity=&quot;center_vertical&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;32dp&quot;&#10;                    android:layout_height=&quot;32dp&quot;&#10;                    android:text=&quot;&quot;&#10;                    android:textSize=&quot;24sp&quot;&#10;                    android:gravity=&quot;center&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;0dp&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_weight=&quot;1&quot;&#10;                    android:layout_marginStart=&quot;12dp&quot;&#10;                    android:text=&quot;@string/feature_1&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:textColor=&quot;?android:attr/textColorSecondary&quot; /&gt;&#10;            &lt;/LinearLayout&gt;&#10;&#10;            &lt;!-- Feature 2 --&gt;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;12dp&quot;&#10;                android:orientation=&quot;horizontal&quot;&#10;                android:gravity=&quot;center_vertical&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;32dp&quot;&#10;                    android:layout_height=&quot;32dp&quot;&#10;                    android:text=&quot;&quot;&#10;                    android:textSize=&quot;24sp&quot;&#10;                    android:gravity=&quot;center&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;0dp&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_weight=&quot;1&quot;&#10;                    android:layout_marginStart=&quot;12dp&quot;&#10;                    android:text=&quot;@string/feature_2&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:textColor=&quot;?android:attr/textColorSecondary&quot; /&gt;&#10;            &lt;/LinearLayout&gt;&#10;&#10;            &lt;!-- Feature 3 --&gt;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;12dp&quot;&#10;                android:orientation=&quot;horizontal&quot;&#10;                android:gravity=&quot;center_vertical&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;32dp&quot;&#10;                    android:layout_height=&quot;32dp&quot;&#10;                    android:text=&quot;&quot;&#10;                    android:textSize=&quot;24sp&quot;&#10;                    android:gravity=&quot;center&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;0dp&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_weight=&quot;1&quot;&#10;                    android:layout_marginStart=&quot;12dp&quot;&#10;                    android:text=&quot;@string/feature_3&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:textColor=&quot;?android:attr/textColorSecondary&quot; /&gt;&#10;            &lt;/LinearLayout&gt;&#10;&#10;            &lt;!-- Feature 4 --&gt;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;12dp&quot;&#10;                android:orientation=&quot;horizontal&quot;&#10;                android:gravity=&quot;center_vertical&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;32dp&quot;&#10;                    android:layout_height=&quot;32dp&quot;&#10;                    android:text=&quot;&quot;&#10;                    android:textSize=&quot;24sp&quot;&#10;                    android:gravity=&quot;center&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;0dp&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_weight=&quot;1&quot;&#10;                    android:layout_marginStart=&quot;12dp&quot;&#10;                    android:text=&quot;@string/feature_4&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:textColor=&quot;?android:attr/textColorSecondary&quot; /&gt;&#10;            &lt;/LinearLayout&gt;&#10;&#10;            &lt;!-- Example Questions Section --&gt;&#10;            &lt;TextView&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;32dp&quot;&#10;                android:text=&quot;@string/try_asking_title&quot;&#10;                android:textSize=&quot;16sp&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:textColor=&quot;?android:attr/textColorPrimary&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/tvExample1&quot;&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;12dp&quot;&#10;                android:padding=&quot;12dp&quot;&#10;                android:background=&quot;?android:attr/selectableItemBackground&quot;&#10;                android:text=&quot;@string/example_question_1&quot;&#10;                android:textSize=&quot;14sp&quot;&#10;                android:textColor=&quot;?android:attr/colorAccent&quot;&#10;                android:drawableStart=&quot;@android:drawable/ic_menu_help&quot;&#10;                android:drawablePadding=&quot;8dp&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/tvExample2&quot;&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:padding=&quot;12dp&quot;&#10;                android:background=&quot;?android:attr/selectableItemBackground&quot;&#10;                android:text=&quot;@string/example_question_2&quot;&#10;                android:textSize=&quot;14sp&quot;&#10;                android:textColor=&quot;?android:attr/colorAccent&quot;&#10;                android:drawableStart=&quot;@android:drawable/ic_menu_help&quot;&#10;                android:drawablePadding=&quot;8dp&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/tvExample3&quot;&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:padding=&quot;12dp&quot;&#10;                android:background=&quot;?android:attr/selectableItemBackground&quot;&#10;                android:text=&quot;@string/example_question_3&quot;&#10;                android:textSize=&quot;14sp&quot;&#10;                android:textColor=&quot;?android:attr/colorAccent&quot;&#10;                android:drawableStart=&quot;@android:drawable/ic_menu_help&quot;&#10;                android:drawablePadding=&quot;8dp&quot; /&gt;&#10;&#10;        &lt;/LinearLayout&gt;&#10;    &lt;/ScrollView&gt;&#10;&#10;&#10;    &lt;EditText&#10;        android:id=&quot;@+id/etInput&quot;&#10;        android:layout_width=&quot;0dp&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_marginStart=&quot;8dp&quot;&#10;        android:layout_marginEnd=&quot;8dp&quot;&#10;        android:layout_marginBottom=&quot;8dp&quot;&#10;        android:background=&quot;@android:drawable/edit_text&quot;&#10;        android:hint=&quot;@string/input_hint&quot;&#10;        android:padding=&quot;12dp&quot;&#10;        android:textColor=&quot;#000000&quot;&#10;        android:textColorHint=&quot;#808080&quot;&#10;        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toStartOf=&quot;@+id/btnSend&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;&#10;&#10;    &lt;Button&#10;        android:id=&quot;@+id/btnSend&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_marginEnd=&quot;8dp&quot;&#10;        android:layout_marginBottom=&quot;8dp&quot;&#10;        android:text=&quot;@string/send_button&quot;&#10;        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;&#10;&#10;    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;&#10;&#10;    &lt;!-- Navigation Drawer --&gt;&#10;    &lt;com.google.android.material.navigation.NavigationView&#10;        android:id=&quot;@+id/navigationView&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;match_parent&quot;&#10;        android:layout_gravity=&quot;start&quot;&#10;        android:fitsSystemWindows=&quot;true&quot;&#10;        app:headerLayout=&quot;@layout/nav_header&quot;&#10;        app:menu=&quot;@menu/menu_drawer&quot; /&gt;&#10;&#10;&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/nav_header.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/nav_header.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;176dp&quot;&#10;    android:background=&quot;?attr/colorPrimary&quot;&#10;    android:gravity=&quot;bottom&quot;&#10;    android:orientation=&quot;vertical&quot;&#10;    android:padding=&quot;16dp&quot;&#10;    android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;&gt;&#10;&#10;    &lt;ImageView&#10;        android:id=&quot;@+id/ivUserPhoto&quot;&#10;        android:layout_width=&quot;64dp&quot;&#10;        android:layout_height=&quot;64dp&quot;&#10;        android:src=&quot;@drawable/ic_default_avatar&quot;&#10;        android:contentDescription=&quot;@string/user_photo&quot; /&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvUserName&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_marginTop=&quot;8dp&quot;&#10;        android:textColor=&quot;@android:color/white&quot;&#10;        android:textSize=&quot;16sp&quot;&#10;        android:textStyle=&quot;bold&quot; /&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvUserEmail&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:textColor=&quot;@android:color/white&quot;&#10;        android:textSize=&quot;14sp&quot; /&gt;&#10;&#10;&lt;/LinearLayout&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/menu/menu_drawer.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/menu/menu_drawer.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;&#10;&#10;    &lt;group android:checkableBehavior=&quot;single&quot;&gt;&#10;        &lt;item&#10;            android:id=&quot;@+id/nav_new_chat&quot;&#10;            android:icon=&quot;@drawable/ic_add&quot;&#10;            android:title=&quot;@string/menu_new_chat&quot; /&gt;&#10;        &lt;item&#10;            android:id=&quot;@+id/nav_history&quot;&#10;            android:icon=&quot;@drawable/ic_chat&quot;&#10;            android:title=&quot;@string/menu_history&quot; /&gt;&#10;    &lt;/group&gt;&#10;&#10;    &lt;item android:title=&quot;@string/menu_other&quot;&gt;&#10;        &lt;menu&gt;&#10;            &lt;item&#10;                android:id=&quot;@+id/nav_sign_out&quot;&#10;                android:icon=&quot;@drawable/ic_logout&quot;&#10;                android:title=&quot;@string/sign_out&quot; /&gt;&#10;        &lt;/menu&gt;&#10;    &lt;/item&gt;&#10;&#10;&lt;/menu&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/values-kn/strings.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/values-kn/strings.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;resources&gt;&#10;    &lt;!-- Drawer Menu - Kannada --&gt;&#10;    &lt;string name=&quot;menu_new_chat&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;menu_history&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;menu_other&quot;&gt;&lt;/string&gt;&#10;    &lt;string name=&quot;sign_out&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;open_drawer&quot;&gt;  &lt;/string&gt;&#10;    &lt;string name=&quot;close_drawer&quot;&gt;  &lt;/string&gt;&#10;    &lt;string name=&quot;history_title&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;no_history&quot;&gt; .\n    !&lt;/string&gt;&#10;    &lt;string name=&quot;delete_conversation&quot;&gt; &lt;/string&gt;&#10;&lt;/resources&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;resources&gt;&#10;    &lt;!-- Drawer Menu - Kannada --&gt;&#10;    &lt;string name=&quot;menu_new_chat&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;menu_history&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;menu_other&quot;&gt;&lt;/string&gt;&#10;    &lt;string name=&quot;sign_out&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;open_drawer&quot;&gt;  &lt;/string&gt;&#10;    &lt;string name=&quot;close_drawer&quot;&gt;  &lt;/string&gt;&#10;    &lt;string name=&quot;history_title&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;no_history&quot;&gt; .\n    !&lt;/string&gt;&#10;    &lt;string name=&quot;delete_conversation&quot;&gt; &lt;/string&gt;&#10;&lt;/resources&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/values-ta/strings.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/values-ta/strings.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;resources&gt;&#10;    &lt;!-- Drawer Menu - Tamil --&gt;&#10;    &lt;string name=&quot;menu_new_chat&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;menu_history&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;menu_other&quot;&gt;&lt;/string&gt;&#10;    &lt;string name=&quot;sign_out&quot;&gt;&lt;/string&gt;&#10;    &lt;string name=&quot;open_drawer&quot;&gt;  &lt;/string&gt;&#10;    &lt;string name=&quot;close_drawer&quot;&gt;  &lt;/string&gt;&#10;    &lt;string name=&quot;history_title&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;no_history&quot;&gt;  .\n    !&lt;/string&gt;&#10;    &lt;string name=&quot;delete_conversation&quot;&gt; &lt;/string&gt;&#10;&lt;/resources&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;resources&gt;&#10;    &lt;!-- Drawer Menu - Tamil --&gt;&#10;    &lt;string name=&quot;menu_new_chat&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;menu_history&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;menu_other&quot;&gt;&lt;/string&gt;&#10;    &lt;string name=&quot;sign_out&quot;&gt;&lt;/string&gt;&#10;    &lt;string name=&quot;open_drawer&quot;&gt;  &lt;/string&gt;&#10;    &lt;string name=&quot;close_drawer&quot;&gt;  &lt;/string&gt;&#10;    &lt;string name=&quot;history_title&quot;&gt; &lt;/string&gt;&#10;    &lt;string name=&quot;no_history&quot;&gt;  .\n    !&lt;/string&gt;&#10;    &lt;string name=&quot;delete_conversation&quot;&gt; &lt;/string&gt;&#10;&lt;/resources&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>